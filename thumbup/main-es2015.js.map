{"version":3,"sources":["./$_lazy_route_resource lazy namespace object","./src/app/app.component.ts","./src/app/app.component.html","./src/app/app.module.ts","./src/app/components/canvas/canvas.component.service.ts","./src/app/components/canvas/canvas.component.ts","./src/app/components/canvas/canvas.component.html","./src/app/components/control/control-pannel.component.ts","./src/app/components/control/control-pannel.component.html","./src/app/components/control/drawing/drawing-control-factory.ts","./src/app/components/control/drawing/drawing-control.component.ts","./src/app/components/control/drawing/drawing-control.component.html","./src/app/components/control/filter/color-filter-control.ts","./src/app/components/control/filter/color-filter-control.html","./src/app/components/control/filter/filter-control-factory.ts","./src/app/components/control/image-drawing/image-drawing-control.component.ts","./src/app/components/control/image-drawing/image-drawing-control.component.html","./src/app/components/control/layer/layer-control-item.component.ts","./src/app/components/control/layer/layer-control-item.component.html","./src/app/components/control/layer/layer-control.component.ts","./src/app/components/control/layer/layer-control.component.html","./src/app/components/control/movable/movable-control.component.ts","./src/app/components/control/movable/movable-control.component.html","./src/app/components/control/text-drawing/text-drawing-control.component.ts","./src/app/components/control/text-drawing/text-drawing-control.component.html","./src/app/components/image-drawing/image-drawing.component.ts","./src/app/components/image-drawing/image-drawing.component.html","./src/app/components/movable/movable.component.ts","./src/app/components/movable/movable.component.html","./src/app/components/text-drawing/text-drawing.component.ts","./src/app/model/canvas.ts","./src/app/model/drawing-filter.ts","./src/app/model/drawing.ts","./src/app/model/edit-stack.ts","./src/app/model/image-drawing.ts","./src/app/model/movable.ts","./src/app/model/text-drawing.ts","./src/app/service/canvas.service.ts","./src/app/service/command.service.ts","./src/app/service/keybinding.service.ts","./src/app/util/constants.ts","./src/app/util/image-filter.ts","./src/app/util/mat2.ts","./src/app/util/mat3.ts","./src/app/util/mat4.ts","./src/app/util/platform.ts","./src/app/util/quat.ts","./src/app/util/vec2.ts","./src/app/util/vec3.ts","./src/app/util/vec4.ts","./src/environments/environment.ts","./src/main.ts"],"names":[],"mappings":"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,GAAG,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC;QAC7B,MAAM,GAAG,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC;QAC7B,MAAM,GAAG,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC;QACzB,MAAM,GAAG,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC;QAC7B,MAAM,GAAG,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC;QAC7B,MAAM,GAAG,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC;QAC7B,MAAM,GAAG,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC;QAEzB,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG;QAClD,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG;QAClD,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG;QAElD,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG;QAClD,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG;QAClD,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG;QAElD,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG;QAClD,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG;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,GAAG,GAAG,GAAG,KAAK,CAAC,GAAG,GAAG;QACjE,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,GAAG,KAAK,GAAG,GAAG,GAAG,KAAK,GAAG,GAAG,GAAG,KAAK,CAAC,GAAG,GAAG;QAChE,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,GAAG,KAAK,GAAG,GAAG,GAAG,KAAK,GAAG,GAAG,GAAG,KAAK,CAAC,GAAG,GAAG;QACjE,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,GAAG,KAAK,GAAG,GAAG,GAAG,KAAK,GAAG,GAAG,GAAG,KAAK,CAAC,GAAG,GAAG;QACjE,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,GAAG,KAAK,GAAG,GAAG,GAAG,KAAK,GAAG,GAAG,GAAG,KAAK,CAAC,GAAG,GAAG;QAChE,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,GAAG,KAAK,GAAG,GAAG,GAAG,KAAK,GAAG,GAAG,GAAG,KAAK,CAAC,GAAG,GAAG;QACjE,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,GAAG,KAAK,GAAG,GAAG,GAAG,KAAK,GAAG,GAAG,GAAG,KAAK,CAAC,GAAG,GAAG;QAChE,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,GAAG,KAAK,GAAG,GAAG,GAAG,KAAK,GAAG,GAAG,GAAG,KAAK,CAAC,GAAG,GAAG;QAChE,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,GAAG,KAAK,GAAG,GAAG,GAAG,KAAK,GAAG,GAAG,GAAG,KAAK,CAAC,GAAG,GAAG;QACjE,IAAI,CAAC,MAAM,CAAC,EAAE,CAAC,GAAG,CAAC,GAAG,GAAG,KAAK,GAAG,GAAG,GAAG,KAAK,GAAG,GAAG,GAAG,KAAK,CAAC,GAAG,GAAG;QACjE,IAAI,CAAC,MAAM,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,GAAG,GAAG,KAAK,GAAG,GAAG,GAAG,KAAK,GAAG,GAAG,GAAG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AM,GAAG,GAAG,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;QACpB,MAAM,GAAG,GAAG,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;QACpB,MAAM,GAAG,GAAG,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;QACpB,MAAM,GAAG,GAAG,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;QACpB,MAAM,GAAG,GAAG,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;QACpB,MAAM,GAAG,GAAG,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;QACpB,MAAM,GAAG,GAAG,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC;QACrB,MAAM,GAAG,GAAG,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC;QACrB,MAAM,GAAG,GAAG,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC;QACrB,MAAM,GAAG,GAAG,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC;QACrB,MAAM,GAAG,GAAG,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC;QACrB,MAAM,GAAG,GAAG,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC;QAErB,MAAM,GAAG,GAAG,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;QACpB,MAAM,GAAG,GAAG,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;QACpB,MAAM,GAAG,GAAG,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;QACpB,MAAM,GAAG,GAAG,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;QACpB,MAAM,GAAG,GAAG,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;QACpB,MAAM,GAAG,GAAG,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;QACpB,MAAM,GAAG,GAAG,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;QACpB,MAAM,GAAG,GAAG,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;QACpB,MAAM,GAAG,GAAG,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;QACpB,MAAM,GAAG,GAAG,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;QACpB,MAAM,GAAG,GAAG,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC;QACrB,MAAM,GAAG,GAAG,EAAE,CAAC,EAAE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","file":"main-es2015.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./$$_lazy_route_resource lazy recursive\";","import { Component } from '@angular/core';\nimport { Movable } from 'src/app/model/movable';\nimport { CanvasService } from 'src/app/service/canvas.service';\nimport { ICommandService, CanvasCommandService } from 'src/app/service/command.service';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.scss'],\n  providers: [{\n      provide: ICommandService,\n      useClass: CanvasCommandService\n    }\n  ]\n})\nexport class AppComponent {\n  title = 'thumb-up';\n\n  public movable = new Movable();\n\n  public get canvas() {\n    return this.canvasService_.canvas; }\n\n  constructor(\n    private readonly canvasService_: CanvasService) {\n\n  }\n}\n","<div class=\"container\">\n  <canvas-component [canvas]=\"canvas\"></canvas-component>\n  <control-pannel></control-pannel>\n  <layer-control></layer-control>\n</div>","import { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\nimport { PortalModule } from '@angular/cdk/portal';\n\nimport { AppComponent } from './app.component';\nimport { MovableComponent } from 'src/app/components/movable/movable.component';\nimport { CanvasService } from 'src/app/service/canvas.service';\nimport { ImageDrawingComponent } from 'src/app/components/image-drawing/image-drawing.component';\nimport { CanvasComponent } from 'src/app/components/canvas/canvas.component';\nimport { TextDrawingComponent } from 'src/app/components/text-drawing/text-drawing.component';\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\nimport { ControlPannelComponent } from 'src/app/components/control/control-pannel.component';\nimport { MatButtonModule } from '@angular/material/button';\nimport { MatDividerModule } from '@angular/material/divider';\nimport { MatCardModule } from '@angular/material/card';\nimport { MatSliderModule } from '@angular/material/slider';\nimport { MatFormFieldModule } from '@angular/material/form-field';\nimport { MatInputModule } from '@angular/material/input';\nimport { MatSelectModule } from '@angular/material/select';\nimport { MatCheckboxModule } from '@angular/material/checkbox';\nimport { FormsModule } from '@angular/forms';\nimport { CanvasComponentService } from 'src/app/components/canvas/canvas.component.service';\nimport { MovableControlComponent } from 'src/app/components/control/movable/movable-control.component';\nimport { LayerControlComponent } from 'src/app/components/control/layer/layer-control.component';\nimport { LayerControlItemComponent } from 'src/app/components/control/layer/layer-control-item.component';\nimport { TextDrawingControlComponent } from 'src/app/components/control/text-drawing/text-drawing-control.component';\nimport { DrawingControlComponent } from 'src/app/components/control/drawing/drawing-control.component';\nimport { ColorFilterControlComponent } from 'src/app/components/control/filter/color-filter-control';\nimport { ColorPickerModule } from 'ngx-color-picker';\nimport { ImageDrawingControlComponent } from 'src/app/components/control/image-drawing/image-drawing-control.component';\nimport { KeybindingService } from 'src/app/service/keybinding.service';\n\n@NgModule({\n  declarations: [\n    AppComponent,\n    ControlPannelComponent,\n    MovableControlComponent,\n    LayerControlComponent,\n    LayerControlItemComponent,\n    DrawingControlComponent,\n    ColorFilterControlComponent,\n    TextDrawingControlComponent,\n    ImageDrawingControlComponent,\n    MovableComponent,\n    CanvasComponent,\n    ImageDrawingComponent,\n    TextDrawingComponent,\n  ],\n  imports: [\n    BrowserModule,\n    FormsModule,\n    BrowserAnimationsModule,\n    PortalModule,\n\n    MatFormFieldModule,\n    MatButtonModule,\n    MatDividerModule,\n    MatCardModule,\n    MatInputModule,\n    MatSliderModule,\n    MatSelectModule,\n    MatCheckboxModule,\n\n    ColorPickerModule\n  ],\n  providers: [\n    KeybindingService,\n    CanvasService,\n    CanvasComponentService\n  ],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n","import { Injectable } from '@angular/core';\r\nimport { CanvasComponent } from 'src/app/components/canvas/canvas.component';\r\n\r\n@Injectable()\r\nexport class CanvasComponentService {\r\n\r\n  public canvasComponent: CanvasComponent;\r\n\r\n  constructor() {\r\n\r\n  }\r\n\r\n}","import { Component, ComponentFactoryResolver, Input, OnInit, Inject, Type, ViewChild, ViewContainerRef, AfterViewInit, ComponentFactory, Injector, OnDestroy, ComponentRef, EventEmitter, ElementRef } from '@angular/core';\r\nimport { ComponentPortal, Portal, TemplatePortal } from '@angular/cdk/portal';\r\nimport { Canvas, CanvasDrawingAddRemoveEvent, CanvasRemoveDrawingCommand, CanvasAddStackElementCommand } from 'src/app/model/canvas';\r\nimport { ICommandService, CanvasCommandService } from 'src/app/service/command.service';\r\nimport { Drawing } from 'src/app/model/drawing';\r\nimport { ImageDrawing } from 'src/app/model/image-drawing';\r\nimport { TextDrawing } from 'src/app/model/text-drawing';\r\nimport { TextDrawingComponent } from 'src/app/components/text-drawing/text-drawing.component';\r\nimport { ImageDrawingComponent } from 'src/app/components/image-drawing/image-drawing.component';\r\nimport { Subscription } from 'rxjs';\r\nimport { IDrawingComponent } from 'src/app/components/drawing/drawing.component';\r\nimport { MovableComponent } from 'src/app/components/movable/movable.component';\r\nimport { CanvasComponentService } from 'src/app/components/canvas/canvas.component.service';\r\nimport vec2 from 'src/app/util/vec2';\r\nimport hotkeys from 'hotkeys-js';\r\nimport { KeybindingService, IKeybindingDisposer } from 'src/app/service/keybinding.service';\r\n\r\n@Component({\r\n  selector: 'canvas-component',\r\n  templateUrl: './canvas.component.html',\r\n  styleUrls: ['./canvas.component.scss']\r\n})\r\nexport class CanvasComponent implements OnInit, OnDestroy, AfterViewInit {\r\n\r\n  private subs_: Subscription[] = [];\r\n\r\n  public readonly onDidChangeFocusedDrawing = new EventEmitter<IDrawingComponent>();\r\n  public readonly onDidChangeCamera = new EventEmitter<void>();\r\n\r\n  @Input()\r\n  canvas: Canvas;\r\n\r\n  @ViewChild('drawingContainer', {read: ViewContainerRef}) \r\n      drawingContainerRef_: ViewContainerRef;\r\n  @ViewChild('container', {static:true})\r\n      containerRef_: ElementRef<HTMLDivElement>;\r\n  @ViewChild('canvas', {static:true})\r\n      canvasRef_: ElementRef<HTMLDivElement>;\r\n\r\n  private keybindingDisposers_: IKeybindingDisposer[] = [];\r\n\r\n  public guiPortal: Portal<any>;\r\n\r\n  private drawingComponents_: Array<IDrawingComponent> = [];\r\n  public get drawingComponents(): ReadonlyArray<IDrawingComponent> {\r\n    return this.drawingComponents_; }\r\n  private drawingComponentRefs_: Array<ComponentRef<IDrawingComponent>> = [];\r\n\r\n  private focusedDrawing_: IDrawingComponent = null;\r\n  public get focusedDrawing() { return this.focusedDrawing_; }\r\n\r\n  private lastMousePosition_: vec2;\r\n  private cameraX_: number = 0;\r\n  public get cameraX() { return this.cameraX_; }\r\n  public set cameraX(v: number) {\r\n    this.cameraX_ = v;\r\n    this.onDidChangeCamera.emit();\r\n  }\r\n  private cameraY_: number = 0;\r\n  public get cameraY() { return this.cameraY_; }\r\n  public set cameraY(v: number) {\r\n    this.cameraY_ = v;\r\n    this.onDidChangeCamera.emit();\r\n  }\r\n  private cameraZoom_: number = 1;\r\n  public get cameraZoom() { return this.cameraZoom_; }\r\n  public set cameraZoom(v: number) {\r\n    v = Math.min(3, Math.max(0.2, v));\r\n    v *= 10;\r\n    v = Math.round(v);\r\n    v /= 10;\r\n    this.cameraZoom_ = v;\r\n    this.onDidChangeCamera.emit();\r\n  }\r\n\r\n  constructor(\r\n    private readonly injector_: Injector,\r\n    private readonly canvasComponentService_: CanvasComponentService,\r\n    keybindingService_: KeybindingService,\r\n    @Inject(ICommandService) private readonly commandService_: CanvasCommandService,\r\n    private readonly componentFactoryResolver_: ComponentFactoryResolver) {\r\n    this.canvasComponentService_.canvasComponent = this;\r\n    this.moveCamera = this.moveCamera.bind(this);\r\n\r\n    this.keybindingDisposers_.push(keybindingService_.bind({\r\n      keychord: 'ctrl+z',\r\n      mac: 'command+z'\r\n    }, () => {\r\n      this.canvas.editStack.undo();\r\n    }));\r\n    this.keybindingDisposers_.push(keybindingService_.bind({\r\n      keychord: 'ctrl+y',\r\n      mac: 'command+y'\r\n    }, () => {\r\n      this.canvas.editStack.redo();\r\n    }));\r\n    this.keybindingDisposers_.push(keybindingService_.bind({\r\n      keychord: 'delete'\r\n    }, () => {\r\n      if (!this.focusedDrawing) return;\r\n      this.commandService_.dispatch(\r\n        new CanvasRemoveDrawingCommand(this.canvas, this.focusedDrawing.drawing));\r\n      this.commandService_.dispatch(\r\n        new CanvasAddStackElementCommand());\r\n    }));\r\n  }\r\n  \r\n  ngOnDestroy() {\r\n    this.subs_.forEach(sub => sub.unsubscribe());\r\n    this.keybindingDisposers_.forEach(disposer => disposer());\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.commandService_.canvas = this.canvas;\r\n  }\r\n\r\n  ngAfterViewInit() {\r\n    for (let i = 0; i < this.canvas.drawings.length; i ++) {\r\n      const drawing = this.canvas.drawings[i];\r\n      this.createDrawingComponent(drawing, i);\r\n    }\r\n    this.subs_.push(this.canvas.onDidAddDrawing.subscribe((e: CanvasDrawingAddRemoveEvent) => {\r\n      this.createDrawingComponent(e.drawing, e.index);\r\n    }));\r\n    this.subs_.push(this.canvas.onDidReorderDrawing.subscribe(([i, j]) => {\r\n      let tmp1 = this.drawingComponentRefs_[i];\r\n      this.drawingComponentRefs_[i] = this.drawingComponentRefs_[j];\r\n      this.drawingComponentRefs_[j] = tmp1;\r\n      let tmp2 = this.drawingComponents[i];\r\n      this.drawingComponents_[i] = this.drawingComponents_[j];\r\n      this.drawingComponents_[j] = tmp2;\r\n    }));\r\n    this.subs_.push(this.canvas.onWillRemoveDrawing.subscribe((e: CanvasDrawingAddRemoveEvent) => {\r\n      if (this.focusedDrawing_?.drawing == e.drawing) this.blurAll();\r\n      this.drawingComponentRefs_.splice(e.index, 1)[0]!.destroy();\r\n      this.drawingComponents_.splice(e.index, 1);\r\n    }));\r\n\r\n    this.containerRef_.nativeElement.addEventListener('mousewheel', (e: any) => {\r\n      this.onMouseWheel(e);\r\n    })\r\n    this.containerRef_.nativeElement.addEventListener('DOMMouseScroll', (e: any) => {\r\n      this.onMouseWheel(e);\r\n    })\r\n  }\r\n  \r\n  private createDrawingComponent(drawing: Drawing, index: number) {\r\n    let factory: ComponentFactory<any>;\r\n    switch (drawing.type) {\r\n      case ImageDrawing.type:\r\n        factory = this.componentFactoryResolver_.resolveComponentFactory(ImageDrawingComponent);\r\n        break;\r\n      case TextDrawing.type:\r\n        factory = this.componentFactoryResolver_.resolveComponentFactory(TextDrawingComponent);\r\n        break;\r\n    }\r\n    const componentRef = this.drawingContainerRef_.createComponent(\r\n        factory, index, this.injector_);\r\n    (componentRef.instance as any).drawing = drawing;\r\n    this.drawingComponentRefs_.splice(index, 0, componentRef);\r\n    this.drawingComponents_.splice(index, 0, componentRef.instance);\r\n  }\r\n\r\n  public focusDrawingComponent(drawingComponent: IDrawingComponent) {\r\n    this.blurAll();\r\n    const movableComponent = drawingComponent.movableComponent;\r\n    movableComponent!.focus();\r\n    this.focusedDrawing_ = drawingComponent;\r\n    this.onDidChangeFocusedDrawing.emit(drawingComponent);\r\n    this.guiPortal = new TemplatePortal(movableComponent.guiContent, movableComponent.viewContainerRef);\r\n  }\r\n\r\n  public blurAll() {\r\n    for (let i = 0; i < this.drawingComponents_.length; i ++) {\r\n      const drawing = this.drawingComponents_[i];\r\n      drawing.movableComponent.blur();\r\n    }\r\n    this.guiPortal = null;\r\n    this.focusedDrawing_ = null;\r\n    this.onDidChangeFocusedDrawing.emit(null);\r\n  }\r\n\r\n  onMousedown(e: MouseEvent) {\r\n    if (e.button == 0) {\r\n      let element: HTMLElement | null = e.target as (HTMLElement | null);\r\n      let movableId = 0;\r\n      while (element instanceof HTMLElement) {\r\n        if (element.tagName.toLowerCase() == 'movable') {\r\n          movableId = +element.getAttribute('movable-id');\r\n          break;\r\n        }\r\n        element = element.parentElement;\r\n      }\r\n      if (!movableId) {\r\n        this.blurAll();\r\n        return;\r\n      }\r\n      const drawingComponent = this.getDrawingComponentByMovableId(movableId);\r\n      this.focusDrawingComponent(drawingComponent);\r\n    }\r\n    else if (e.button == 2) {\r\n      e.preventDefault();\r\n      this.lastMousePosition_ = new vec2([e.screenX, e.screenY]);\r\n      window.addEventListener('mousemove', this.moveCamera);\r\n      const mouseup = () => {\r\n        window.removeEventListener('mousemove', this.moveCamera);\r\n        window.removeEventListener('mouseup', mouseup);\r\n      }\r\n      window.addEventListener('mouseup', mouseup);\r\n    }\r\n  }\r\n\r\n  onMouseWheel(e: WheelEvent) {\r\n    const pos = new vec2([e.pageX, e.pageY]);\r\n    const dvec2 = this.fromPageToCanvas(pos);\r\n    const delta = e.deltaY | e.detail;\r\n    const lastZoom = this.cameraZoom;\r\n    if (delta < 0) {\r\n      this.cameraZoom = this.cameraZoom + 0.1;\r\n    }\r\n    else {\r\n      this.cameraZoom = this.cameraZoom - 0.1;\r\n    }\r\n    const dz = this.cameraZoom - lastZoom;\r\n    const dx = dvec2.scale(dz);\r\n    this.cameraX = this.cameraX - dx.x;\r\n    this.cameraY = this.cameraY - dx.y;\r\n  }\r\n\r\n  private moveCamera(e: MouseEvent) {\r\n    const position = new vec2([e.screenX, e.screenY]);\r\n    position.subtract(this.lastMousePosition_);\r\n    this.cameraX = this.cameraX + position.x;\r\n    this.cameraY = this.cameraY + position.y;\r\n    this.lastMousePosition_ = new vec2([e.screenX, e.screenY]);;\r\n  }\r\n\r\n  public fromPageToCanvas(vec: vec2) {\r\n    const center = new vec2([\r\n      this.containerRef_.nativeElement.offsetWidth / 2,\r\n      this.containerRef_.nativeElement.offsetHeight / 2]);\r\n    const cs = vec.copy();\r\n    cs.subtract(center);\r\n    cs.subtract(new vec2([this.cameraX, this.cameraY]));\r\n    cs.scale(1 / this.cameraZoom);\r\n    cs.x = Math.round(cs.x);\r\n    cs.y = Math.round(cs.y);\r\n    return cs;\r\n  }\r\n\r\n  public fromPageToCanvasScreen(vec: vec2) {\r\n    const center = new vec2([\r\n      this.containerRef_.nativeElement.offsetWidth / 2,\r\n      this.containerRef_.nativeElement.offsetHeight / 2]);\r\n    const cs = new vec2([vec.x, vec.y]);\r\n    cs.subtract(center);\r\n    return cs;\r\n  }\r\n\r\n  private getMovableComponentById(id: number): MovableComponent | null {\r\n    for (let i = 0; i < this.drawingComponents_.length; i ++) {\r\n      const drawing = this.drawingComponents_[i];\r\n      const movable = drawing.drawing.movable;\r\n      if (movable.id == id) return drawing.movableComponent;\r\n    }\r\n    return null;\r\n  }\r\n\r\n  private getDrawingComponentByMovableId(id: number): IDrawingComponent | null {\r\n    for (let i = 0; i < this.drawingComponents_.length; i ++) {\r\n      const drawing = this.drawingComponents_[i];\r\n      const movable = drawing.drawing.movable;\r\n      if (movable.id == id) return drawing;\r\n    }\r\n    return null;\r\n  }\r\n\r\n  private getDrawingComponentByDrawing(drawing: Drawing): IDrawingComponent | null {\r\n    for (let i = 0; i < this.drawingComponents_.length; i ++) {\r\n      const drawingComponent = this.drawingComponents_[i];\r\n      if (drawingComponent.drawing === drawing) return drawingComponent;\r\n    }\r\n    return null;\r\n  }\r\n\r\n  public getContentStyle() {\r\n    return {\r\n      width: `${this.canvas.width}px`,\r\n      height: `${this.canvas.height}px`\r\n    }\r\n  }\r\n\r\n  public getCanvasStyle() {\r\n    return {\r\n      transform: `\r\n        translateX(${this.cameraX_}px)\r\n        translateY(${this.cameraY_}px)\r\n        scale(${this.cameraZoom_})`\r\n    }\r\n  }\r\n\r\n  public render(): string {\r\n    const canvas = this.canvas;\r\n    const cvs = document.createElement('canvas');\r\n    const tmpCvs = document.createElement('canvas');\r\n    const ctx = cvs.getContext('2d');\r\n    const tmpCtx = tmpCvs.getContext('2d');\r\n    cvs.width = this.canvas.width;\r\n    cvs.height = this.canvas.height;\r\n    ctx.fillStyle = 'white';\r\n    ctx.fillRect(0, 0, cvs.width, cvs.height);\r\n    for (let i = this.drawingComponents.length - 1; i >= 0; i --) {\r\n      const drawingComponent = this.drawingComponents[i];\r\n      const movable = drawingComponent.movableComponent.movable;\r\n      tmpCvs.width = movable.w;\r\n      tmpCvs.height = movable.h;\r\n      drawingComponent.render(tmpCtx);\r\n\r\n      // Blit\r\n      ctx.save();\r\n      ctx.translate(movable.x + canvas.width / 2, movable.y + canvas.height / 2);\r\n      ctx.rotate(movable.rad);\r\n      ctx.drawImage(tmpCvs, -movable.w / 2, -movable.h / 2);\r\n      ctx.restore();\r\n    }\r\n    return cvs.toDataURL('image/png', 1.0);\r\n  }\r\n\r\n}","<div class=\"container\" #container\r\n  (mousedown)=\"onMousedown($event)\">\r\n  <div class=\"canvas\" #canvas>\r\n    <div class=\"canvas-camera\" [ngStyle]=\"getCanvasStyle()\">\r\n      <div class=\"canvas-cover\">\r\n      </div>\r\n      <div class=\"canvas-background\" [ngStyle]=\"getContentStyle()\"></div>\r\n      <div class=\"canvas-border\" [ngStyle]=\"getContentStyle()\">\r\n        <div class=\"cover t\"></div>\r\n        <div class=\"cover b\"></div>\r\n        <div class=\"cover l\"></div>\r\n        <div class=\"cover r\"></div>\r\n      </div>\r\n      <div class=\"drawings\">\r\n        <ng-container #drawingContainer>\r\n        </ng-container>\r\n      </div>\r\n    </div>\r\n    <ng-template [cdkPortalOutlet]=\"guiPortal\"></ng-template>\r\n  </div>\r\n</div>","import { Component, Inject, Injector, ComponentFactoryResolver, ComponentRef, ComponentFactory, ViewChild, ViewContainerRef } from '@angular/core';\r\nimport { ICommandService } from 'src/app/service/command.service';\r\nimport { TextDrawing } from 'src/app/model/text-drawing';\r\nimport { CanvasService } from 'src/app/service/canvas.service';\r\nimport { CanvasAddDrawingCommand, CanvasResizeCommand, CanvasAddStackElementCommand } from 'src/app/model/canvas';\r\nimport { ImageDrawing } from 'src/app/model/image-drawing';\r\nimport { Subscription } from 'rxjs';\r\nimport { Movable } from 'src/app/model/movable';\r\nimport { CanvasComponentService } from 'src/app/components/canvas/canvas.component.service';\r\nimport { MovableComponent } from 'src/app/components/movable/movable.component';\r\nimport { IDrawingComponent } from 'src/app/components/drawing/drawing.component';\r\nimport { TextDrawingControlComponent } from 'src/app/components/control/text-drawing/text-drawing-control.component';\r\nimport { MatSliderChange } from '@angular/material/slider';\r\n\r\n@Component({\r\n  selector: 'control-pannel',\r\n  templateUrl: './control-pannel.component.html',\r\n  styleUrls: ['./control-pannel.component.scss']\r\n})\r\nexport class ControlPannelComponent {\r\n\r\n  private subs_: Subscription[] = [];\r\n\r\n  @ViewChild('drawingControlContainer', {read: ViewContainerRef}) \r\n      drawingControlContainer_: ViewContainerRef;\r\n\r\n  public canvasWidth: number;\r\n  public canvasHeight: number;\r\n  onChangeCanvasSize(w: number, h: number) {\r\n    const canvas = this.canvasService_.canvas;\r\n    const ww = (w === undefined ? canvas.width : w); \r\n    const hh = (h === undefined ? canvas.height : h); \r\n    this.commandService_.dispatch(\r\n      new CanvasResizeCommand(canvas, ww, hh));\r\n  }\r\n  public canvasZoom: number;\r\n  onChangeCanvasZoom(e: MatSliderChange) {\r\n    this.canvasComponentService_.canvasComponent.cameraZoom = e.value;\r\n  }\r\n\r\n  public get canvas() {\r\n    return this.canvasService_.canvas; }\r\n\r\n  private focusedDrawing_: IDrawingComponent;\r\n  public get focusedDrawing() { return this.focusedDrawing_; }\r\n  private drawingControlComponent_: ComponentRef<any>;\r\n\r\n  constructor(\r\n    private readonly injector_: Injector,\r\n    private readonly componentFactoryResolver_: ComponentFactoryResolver,\r\n    private readonly canvasService_: CanvasService,\r\n    private readonly canvasComponentService_: CanvasComponentService,\r\n    @Inject(ICommandService) private readonly commandService_: ICommandService) {\r\n\r\n    const canvas = canvasService_.canvas;\r\n    const canvasComponent = canvasComponentService_.canvasComponent;\r\n    this.canvasWidth = canvas.width;\r\n    this.canvasHeight = canvas.height;\r\n    this.subs_.push(canvas.onDidChangeSize.subscribe(() => {\r\n      this.canvasWidth = canvas.width;\r\n      this.canvasHeight = canvas.height;\r\n    }));\r\n    this.canvasZoom = canvasComponent.cameraZoom;\r\n    this.subs_.push(canvasComponent.onDidChangeCamera.subscribe(() => {\r\n      this.canvasZoom = canvasComponent.cameraZoom;\r\n    }));\r\n    this.focusedDrawing_ = canvasComponent.focusedDrawing;\r\n    this.subs_.push(canvasComponent.onDidChangeFocusedDrawing.subscribe(drawingComponent => {\r\n      this.updateFocusedDrawing(drawingComponent);\r\n    }))\r\n\r\n  }\r\n\r\n  private updateFocusedDrawing(drawingComponent: IDrawingComponent) {\r\n    this.focusedDrawing_ = drawingComponent;\r\n    // if (this.drawingControlComponent_) {\r\n    //   this.drawingControlComponent_.destroy();\r\n    //   this.drawingControlComponent_ = null;\r\n    // }\r\n    // if (!drawingComponent) return;\r\n    // let factory: ComponentFactory<any>;\r\n    // switch (drawingComponent.drawing.type) {\r\n    //   case ImageDrawing.type:\r\n    //     break;\r\n    //   case TextDrawing.type:\r\n    //     factory = this.componentFactoryResolver_.resolveComponentFactory(TextDrawingControlComponent);\r\n    //     break;\r\n    // }\r\n    // if (!factory) return;\r\n    // const componentRef = this.drawingControlContainer_.createComponent(\r\n    //   factory, undefined, this.injector_);\r\n    // componentRef.instance.drawing = drawingComponent.drawing;\r\n    // this.drawingControlComponent_ = componentRef;\r\n  }\r\n\r\n  addTextDrawing() {\r\n    const drawing = new TextDrawing('Nanum Myeongjo', 30, 'Text');\r\n    const canvas = this.canvasService_.canvas;\r\n    this.commandService_.dispatch(\r\n      new CanvasAddDrawingCommand(canvas, drawing));\r\n    this.commandService_.dispatch(new CanvasAddStackElementCommand());\r\n  }\r\n\r\n  addImageDrawing(e: any) {\r\n    const file: File = e.target.files[0];\r\n    if (!file) return;\r\n    const reader = new FileReader();\r\n    reader.addEventListener('load', () => {\r\n      const image = new Image();\r\n      image.src = reader.result as string;\r\n      image.onload = () => {\r\n        const imageDrawing = new ImageDrawing(image);\r\n        this.commandService_.dispatch(\r\n          new CanvasAddDrawingCommand(this.canvasService_.canvas, imageDrawing));\r\n        this.commandService_.dispatch(new CanvasAddStackElementCommand());\r\n      }\r\n    })\r\n    reader.readAsDataURL(file);\r\n  }\r\n\r\n}","<mat-card class=\"control-pannel\">\r\n  <div class=\"tools\">\r\n    <div class=\"item\">\r\n      <button mat-icon-button (click)=\"addTextDrawing()\">\r\n        <span class=\"material-icons\">title</span>\r\n      </button>\r\n    </div>\r\n    <div class=\"item file-input\">\r\n      <button accept=\"image/*\" mat-icon-button>\r\n        <input type=\"file\" id=\"file\" (change)=\"addImageDrawing($event)\">\r\n        <label for=\"file\">\r\n          <span class=\"material-icons\">insert_photo</span>\r\n        </label>\r\n      </button>\r\n    </div>\r\n  </div>\r\n  <mat-divider></mat-divider>\r\n  <div class=\"canvas\">\r\n    <div class=\"size eq\">\r\n      <mat-form-field>\r\n        <input matInput placeholder=\"Canvas width\" [(ngModel)]=\"canvasWidth\"\r\n          (keyup)=\"onChangeCanvasSize(+$event.target.value, undefined)\">\r\n        <span matSuffix>px</span>\r\n      </mat-form-field>\r\n      <mat-form-field>\r\n        <input matInput placeholder=\"Canvas height\" [(ngModel)]=\"canvasHeight\"\r\n          (keyup)=\"onChangeCanvasSize(undefined, +$event.target.value)\">\r\n        <span matSuffix>px</span>\r\n      </mat-form-field>\r\n    </div>\r\n    <div class=\"zoom\">\r\n      <div>Zoom <span>{{canvasZoom}}x</span></div>\r\n      <mat-slider min=\"0.2\" max=\"3\" step=\"0.1\" [(value)]=\"canvasZoom\"\r\n        (input)=\"onChangeCanvasZoom($event)\">\r\n      </mat-slider>\r\n    </div>\r\n  </div>\r\n  <mat-divider></mat-divider>\r\n  <movable-control *ngIf=\"focusedDrawing\"\r\n      [movable]=\"focusedDrawing.drawing.movable\">\r\n  </movable-control>\r\n  <drawing-control [drawing]=\"focusedDrawing?.drawing\"></drawing-control>\r\n</mat-card>","import { Injector, ComponentFactoryResolver, ViewContainerRef, ComponentRef } from '@angular/core';\r\nimport { Drawing } from 'src/app/model/drawing';\r\nimport { TextDrawing } from 'src/app/model/text-drawing';\r\nimport { TextDrawingControlComponent } from 'src/app/components/control/text-drawing/text-drawing-control.component';\r\nimport { ImageDrawing } from 'src/app/model/image-drawing';\r\nimport { ImageDrawingControlComponent } from 'src/app/components/control/image-drawing/image-drawing-control.component';\r\n\r\nexport class DrawingControlFactory {\r\n\r\n  constructor(private readonly resolver: ComponentFactoryResolver) {}\r\n\r\n  public create(\r\n    container: ViewContainerRef,\r\n    drawing: Drawing, injector: Injector): ComponentRef<any> {\r\n    if (!drawing) return null;\r\n    let component: any;\r\n    switch (drawing.type) {\r\n      case TextDrawing.type:\r\n        component = TextDrawingControlComponent;\r\n        break;\r\n      case ImageDrawing.type:\r\n        component = ImageDrawingControlComponent;\r\n        break;\r\n    }\r\n    if (!component) return null;\r\n    const factory = this.resolver.resolveComponentFactory(component);\r\n    const componentRef = container.createComponent(factory, undefined, injector);\r\n    (componentRef.instance as any).drawing = drawing;\r\n    return componentRef;\r\n  }\r\n\r\n}","import { Component, Input, OnInit, OnDestroy, OnChanges, SimpleChange, SimpleChanges, ComponentRef, ComponentFactoryResolver, Injector, ViewChild, ViewContainerRef, Inject } from '@angular/core';\r\nimport { Drawing, DrawingChangeFilterCommand } from 'src/app/model/drawing';\r\nimport { Subscription } from 'rxjs';\r\nimport { FilterControlFactory } from 'src/app/components/control/filter/filter-control-factory';\r\nimport { DrawingControlFactory } from 'src/app/components/control/drawing/drawing-control-factory';\r\nimport { MatSelectChange } from '@angular/material/select';\r\nimport { GrayscaleDrawingFilter, IDrawingFilter, BlurDrawingFilter, ColorDrawingFilter } from 'src/app/model/drawing-filter';\r\nimport { ICommandService } from 'src/app/service/command.service';\r\nimport { CanvasAddStackElementCommand } from 'src/app/model/canvas';\r\n\r\n@Component({\r\n  selector: 'drawing-control',\r\n  templateUrl: './drawing-control.component.html',\r\n  styleUrls: ['./drawing-control.component.scss']\r\n})\r\nexport class DrawingControlComponent implements OnDestroy, OnChanges {\r\n\r\n  private subs_: Subscription[] = [];\r\n\r\n  @Input() drawing: Drawing;\r\n  @ViewChild('drawingControlContainer', {read: ViewContainerRef})\r\n    drawingControlContainer_: ViewContainerRef;\r\n  @ViewChild('filterControlContainer', {read: ViewContainerRef})\r\n    filterControlContainer_: ViewContainerRef;\r\n\r\n  private drawingControl_: ComponentRef<any>;\r\n  private filterControl_: ComponentRef<any>;\r\n\r\n  private filterType_: string;\r\n  public get filterType() {\r\n    return this.drawing?.filter?.type.toLowerCase();\r\n  }\r\n  onFilterChange(e: MatSelectChange) {\r\n    const value = e.value;\r\n    let filter: IDrawingFilter;\r\n    switch (value) {\r\n      case 'grayscale':\r\n        filter = new GrayscaleDrawingFilter();\r\n        break;\r\n      case 'blur':\r\n        filter = new BlurDrawingFilter();\r\n        break;\r\n      case 'color':\r\n        filter = new ColorDrawingFilter();\r\n        break;\r\n    }\r\n    this.commandService_.dispatch(\r\n      new DrawingChangeFilterCommand(this.drawing, filter));\r\n    this.commandService_.dispatch(\r\n      new CanvasAddStackElementCommand());\r\n  }\r\n\r\n  constructor(\r\n    private readonly injector_: Injector,\r\n    private readonly componentFactoryResolver_: ComponentFactoryResolver,\r\n    @Inject(ICommandService) private readonly commandService_: ICommandService) {\r\n\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.subs_.forEach(sub => sub.unsubscribe());\r\n  }\r\n\r\n  ngOnChanges(changes: SimpleChanges) {\r\n    if (changes.drawing) {\r\n      this.subs_.forEach(sub => sub.unsubscribe());\r\n      this.subs_.length = 0;\r\n\r\n      this.createDrawingControl();\r\n      this.createFilterControl();\r\n      if (!this.drawing) return;\r\n      this.subs_.push(this.drawing.onDidChangeFilter.subscribe(() => {\r\n        this.createFilterControl();\r\n      }));\r\n    }\r\n  }\r\n\r\n  private createDrawingControl() {\r\n    if (this.drawingControl_) this.drawingControl_.destroy();\r\n    const factory = new DrawingControlFactory(this.componentFactoryResolver_);\r\n    const comp = factory.create(this.drawingControlContainer_, this.drawing, this.injector_);\r\n    this.drawingControl_ = comp;\r\n  }\r\n\r\n  private createFilterControl() {\r\n    if (this.filterControl_) this.filterControl_.destroy();\r\n    if (!this.drawing) return;\r\n    const factory = new FilterControlFactory(this.componentFactoryResolver_);\r\n    const comp = factory.create(this.filterControlContainer_, this.drawing.filter, this.injector_);\r\n    this.filterControl_ = comp;\r\n  }\r\n\r\n}","<ng-container #drawingControlContainer></ng-container>\r\n<ng-container *ngIf=\"drawing\">\r\n  <div class=\"filter\">\r\n    <mat-form-field>\r\n      <mat-label>Filter</mat-label>\r\n      <mat-select [value]=\"filterType\"\r\n          (selectionChange)=\"onFilterChange($event)\">\r\n        <mat-option>None</mat-option>\r\n        <mat-option value=\"grayscale\">Grayscale</mat-option>\r\n        <mat-option value=\"blur\">Blur</mat-option>\r\n        <mat-option value=\"color\">Color</mat-option>\r\n      </mat-select>\r\n    </mat-form-field>\r\n  </div>\r\n</ng-container>\r\n<ng-container #filterControlContainer></ng-container>","import { Component, Input, OnInit, OnDestroy, Inject } from '@angular/core';\r\nimport { IDrawingFilter, ColorDrawingFilter, ColorDawingFilterChangeCommand } from 'src/app/model/drawing-filter';\r\nimport { Subscription } from 'rxjs';\r\nimport { ICommandService } from 'src/app/service/command.service';\r\nimport { CanvasAddStackElementCommand } from 'src/app/model/canvas';\r\n\r\n@Component({\r\n  selector: 'color-filter-control',\r\n  templateUrl: './color-filter-control.html',\r\n  styleUrls: ['./color-filter-control.scss']\r\n})\r\nexport class ColorFilterControlComponent implements OnInit, OnDestroy {\r\n\r\n  private sub_: Subscription;\r\n\r\n  @Input() filter: ColorDrawingFilter;\r\n\r\n  public r: number;\r\n  public g: number;\r\n  public b: number;\r\n  public o: number;\r\n\r\n  constructor(\r\n    @Inject(ICommandService) private readonly commandService_: ICommandService) {\r\n\r\n  }\r\n\r\n  onInput(r: number, g: number, b: number, o: number) {\r\n    r = (r === undefined ? this.filter.r : r);\r\n    g = (g === undefined ? this.filter.g : g);\r\n    b = (b === undefined ? this.filter.b : b);\r\n    o = (o === undefined ? this.filter.o : o);\r\n    this.commandService_.dispatch(\r\n      new ColorDawingFilterChangeCommand(this.filter,\r\n        r, g, b, o));\r\n  }\r\n\r\n  onChange() {\r\n    console.log('change');\r\n    this.commandService_.dispatch(\r\n      new CanvasAddStackElementCommand());\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.r = this.filter.r;\r\n    this.g = this.filter.g;\r\n    this.b = this.filter.b;\r\n    this.o = this.filter.o;\r\n    this.sub_ = this.filter.onUpdate.subscribe(() => {\r\n      this.r = this.filter.r;\r\n      this.g = this.filter.g;\r\n      this.b = this.filter.b;\r\n      this.o = this.filter.o;\r\n    })\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.sub_.unsubscribe();\r\n  }\r\n\r\n}","\r\n<div class=\"col\">\r\n  <div>R<span></span></div>\r\n  <mat-slider min=\"0\" max=\"255\" step=\"1\" [(value)]=\"r\"\r\n    (input)=\"onInput($event.value, undefined, undefined, undefined)\"\r\n    (change)=\"onChange()\">\r\n  </mat-slider>\r\n</div>\r\n<div class=\"col\">\r\n  <div>G<span></span></div>\r\n  <mat-slider min=\"0\" max=\"255\" step=\"1\" [(value)]=\"g\"\r\n    (input)=\"onInput(undefined, $event.value, undefined, undefined)\"\r\n    (change)=\"onChange()\">\r\n  </mat-slider>\r\n</div>\r\n<div class=\"col\">\r\n  <div>B<span></span></div>\r\n  <mat-slider min=\"0\" max=\"255\" step=\"1\" [(value)]=\"b\"\r\n    (input)=\"onInput(undefined, undefined, $event.value, undefined)\"\r\n    (change)=\"onChange()\">\r\n  </mat-slider>\r\n</div>\r\n<div class=\"col\">\r\n  <div>O<span></span></div>\r\n  <mat-slider min=\"0\" max=\"1\" step=\"0.05\" [(value)]=\"o\"\r\n    (input)=\"onInput(undefined, undefined, undefined, $event.value)\"\r\n    (change)=\"onChange()\">\r\n  </mat-slider>\r\n</div>","import { IDrawingFilter, ColorDrawingFilter } from 'src/app/model/drawing-filter';\r\nimport { Injector, ComponentFactoryResolver, ViewContainerRef, ComponentRef } from '@angular/core';\r\nimport { ColorFilterControlComponent } from 'src/app/components/control/filter/color-filter-control';\r\n\r\nexport class FilterControlFactory {\r\n\r\n  constructor(private readonly resolver: ComponentFactoryResolver) {}\r\n\r\n  public create(\r\n    container: ViewContainerRef,\r\n    filter: IDrawingFilter, injector: Injector): ComponentRef<any> {\r\n    if (!filter) return null;\r\n    let component: any;\r\n    switch (filter.type) {\r\n      case ColorDrawingFilter.type:\r\n        component = ColorFilterControlComponent;\r\n        break;\r\n    }\r\n    if (!component) return null;\r\n    const factory = this.resolver.resolveComponentFactory(component);\r\n    const componentRef = container.createComponent(factory, undefined, injector);\r\n    (componentRef.instance as any).filter = filter;\r\n    return componentRef;\r\n  }\r\n\r\n}","import { Component, Input, OnInit, OnDestroy, Inject } from '@angular/core';\r\nimport { ImageDrawing, ImageDrawingChangeInvertCommand } from 'src/app/model/image-drawing';\r\nimport { Subscription } from 'rxjs';\r\nimport { ICommandService } from 'src/app/service/command.service';\r\nimport { CanvasAddStackElementCommand } from 'src/app/model/canvas';\r\n\r\n@Component({\r\n  selector: 'image-drawing-control',\r\n  templateUrl: './image-drawing-control.component.html',\r\n  // styleUrls: ['./image-drawing-control.component.scss']\r\n})\r\nexport class ImageDrawingControlComponent implements OnInit, OnDestroy {\r\n\r\n  private subs_: Subscription[] = [];\r\n\r\n  @Input() drawing: ImageDrawing;\r\n\r\n  public invertX;\r\n  public invertY;\r\n  onChangeInvert(x: boolean, y: boolean) {\r\n    x = (x === undefined ? this.drawing.invertX : x);\r\n    y = (y === undefined ? this.drawing.invertY : y);\r\n    this.commandService_.dispatch(\r\n      new ImageDrawingChangeInvertCommand(this.drawing, x, y));\r\n    this.commandService_.dispatch(\r\n      new CanvasAddStackElementCommand());\r\n  }\r\n\r\n  constructor(\r\n    @Inject(ICommandService) private readonly commandService_: ICommandService) {\r\n    \r\n  }\r\n\r\n  ngOnInit() {\r\n    this.invertX = this.drawing.invertX;\r\n    this.invertY = this.drawing.invertY;\r\n    this.subs_.push(this.drawing.onDidDirty.subscribe(() => {\r\n      this.invertX = this.drawing.invertX;\r\n      this.invertY = this.drawing.invertY;\r\n    }));\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.subs_.forEach(sub => sub.unsubscribe())\r\n  }\r\n\r\n}","<div class=\"control\">\r\n  <div class=\"row\">\r\n    <mat-checkbox [ngModel]=\"invertX\" style=\"margin-right: 10px\"\r\n      (change)=\"onChangeInvert($event.checked, undefined)\">Invert X\r\n    </mat-checkbox>\r\n    <mat-checkbox [ngModel]=\"invertY\"\r\n      (change)=\"onChangeInvert(undefined, $event.checked)\">Invert Y\r\n    </mat-checkbox>\r\n  </div>\r\n</div>","import { Component, Input, HostBinding } from '@angular/core';\r\nimport { Drawing } from 'src/app/model/drawing';\r\n\r\n@Component({\r\n  selector: 'layer-control-item',\r\n  templateUrl: './layer-control-item.component.html',\r\n  styleUrls: ['./layer-control-item.component.scss']\r\n})\r\nexport class LayerControlItemComponent {\r\n\r\n  @Input() drawing: Drawing;\r\n  \r\n  @HostBinding('class.active')\r\n  @Input() active: boolean = false;\r\n\r\n}","<div class=\"item\">\r\n  <div class=\"name\">{{drawing.name}}</div>\r\n</div>","import { Component, Input, Inject } from '@angular/core';\r\nimport { Canvas, CanvasReorderCommand, CanvasRemoveDrawingCommand, CanvasAddStackElementCommand } from 'src/app/model/canvas';\r\nimport { Drawing } from 'src/app/model/drawing';\r\nimport { CanvasComponentService } from 'src/app/components/canvas/canvas.component.service';\r\nimport { IDrawingComponent } from 'src/app/components/drawing/drawing.component';\r\nimport { ICommandService } from 'src/app/service/command.service';\r\n\r\n@Component({\r\n  selector: 'layer-control',\r\n  templateUrl: './layer-control.component.html',\r\n  styleUrls: ['./layer-control.component.scss']\r\n})\r\nexport class LayerControlComponent {\r\n\r\n  public get canvas() {\r\n    return this.canvasComponentService_.canvasComponent;\r\n  }\r\n\r\n  public get focusedDrawing() {\r\n    return this.canvas.focusedDrawing?.drawing;\r\n  }\r\n\r\n  public get drawingComponents(): ReadonlyArray<IDrawingComponent> {\r\n    return this.canvas.drawingComponents;\r\n  }\r\n\r\n  constructor(\r\n    private readonly canvasComponentService_: CanvasComponentService,\r\n    @Inject(ICommandService) private readonly commandService_: ICommandService) {\r\n    \r\n  }\r\n\r\n  onItemClick(drawingComponent: IDrawingComponent) {\r\n    this.canvas.focusDrawingComponent(drawingComponent);\r\n  }\r\n\r\n  trackFunc(index: number, comp: IDrawingComponent) {\r\n    return comp.drawing.id;\r\n  }\r\n\r\n  onMoveUpClick() {\r\n    if (!this.focusedDrawing) return;\r\n    const index = this.canvas.canvas.getDrawingIndex(this.focusedDrawing);\r\n    this.commandService_.dispatch(\r\n      new CanvasReorderCommand(this.canvas.canvas, index, index - 1));\r\n    this.commandService_.dispatch(\r\n      new CanvasAddStackElementCommand());\r\n  }\r\n\r\n  onMoveDownClick() {\r\n    if (!this.focusedDrawing) return;\r\n    const index = this.canvas.canvas.getDrawingIndex(this.focusedDrawing);\r\n    this.commandService_.dispatch(\r\n      new CanvasReorderCommand(this.canvas.canvas, index, index + 1));\r\n    this.commandService_.dispatch(\r\n      new CanvasAddStackElementCommand());\r\n  }\r\n\r\n  onRemoveClick() {\r\n    if (!this.focusedDrawing) return;\r\n    this.commandService_.dispatch(\r\n      new CanvasRemoveDrawingCommand(this.canvas.canvas, this.focusedDrawing));\r\n    this.commandService_.dispatch(\r\n      new CanvasAddStackElementCommand());\r\n  }\r\n\r\n  onSaveClick() {\r\n      let image = this.canvasComponentService_.canvasComponent.render();\r\n      image = image.replace('image/png', 'image/octet-stream');\r\n      var link = document.getElementById('link');\r\n      link.setAttribute('download', 'thumbnail.png');\r\n      link.setAttribute('href', image);\r\n      link.click();\r\n  }\r\n\r\n}","<mat-card class=\"layer-control\">\r\n  <div class=\"list\">\r\n    <ng-container *ngFor=\"let drawingComponent of drawingComponents;\r\n      index as i; trackBy: trackFunc\">\r\n      <layer-control-item (click)=\"onItemClick(drawingComponent)\"\r\n        [drawing]=\"drawingComponent.drawing\"\r\n        [active]=\"drawingComponent.drawing === focusedDrawing\">\r\n      </layer-control-item>\r\n      <mat-divider></mat-divider>\r\n    </ng-container>\r\n  </div>\r\n  <div class=\"buttons\">\r\n    <button mat-icon-button (click)=\"onMoveUpClick()\">\r\n      <span class=\"material-icons\">keyboard_arrow_up</span>\r\n    </button>\r\n    <button mat-icon-button (click)=\"onMoveDownClick()\">\r\n      <span class=\"material-icons\">keyboard_arrow_down</span>\r\n    </button>\r\n    <button mat-icon-button (click)=\"onRemoveClick()\">\r\n      <span class=\"material-icons\">delete</span>\r\n    </button>\r\n    <button mat-icon-button (click)=\"onSaveClick()\" style=\"float: right\">\r\n      <span class=\"material-icons\">save_alt</span>\r\n    </button>\r\n  </div>\r\n</mat-card>","import { Component, Inject, Input, OnInit, OnDestroy, OnChanges, SimpleChange, SimpleChanges } from '@angular/core';\r\nimport { ICommandService } from 'src/app/service/command.service';\r\nimport { Subscription } from 'rxjs';\r\nimport { Movable, MovableTranslateCommand, MovableResizeCommand } from 'src/app/model/movable';\r\nimport { CanvasAddStackElementCommand } from 'src/app/model/canvas';\r\n\r\n@Component({\r\n  selector: 'movable-control',\r\n  templateUrl: './movable-control.component.html',\r\n  styleUrls: ['./movable-control.component.scss']\r\n})\r\nexport class MovableControlComponent implements OnInit, OnDestroy, OnChanges {\r\n\r\n  private subs_: Subscription[] = [];\r\n\r\n  @Input() movable: Movable;\r\n\r\n  public x: number;\r\n  public y: number;\r\n  public onChangePosition(x: number, y: number) {\r\n    const movable = this.movable;\r\n    const ww = (x === undefined ? movable.x : x); \r\n    const hh = (y === undefined ? movable.y : y); \r\n    this.commandService_.dispatch(\r\n      new MovableTranslateCommand(movable, ww, hh));\r\n    this.commandService_.dispatch(\r\n      new CanvasAddStackElementCommand());\r\n  }\r\n\r\n  public w: number;\r\n  public h: number;\r\n  public onChangeSize(w: number, h: number) {\r\n    const movable = this.movable;\r\n    const ww = (w === undefined ? movable.w : w); \r\n    const hh = (h === undefined ? movable.h : h); \r\n    this.commandService_.dispatch(\r\n      new MovableResizeCommand(movable, ww, hh));\r\n    this.commandService_.dispatch(\r\n      new CanvasAddStackElementCommand());\r\n  }\r\n\r\n  public r: number;\r\n  public onDidChangeRotation(r: number) {\r\n    // const movable = this.movable;\r\n    // const rr = (r === undefined ? movable.r : r); \r\n    // this.commandService_.dispatch(\r\n    //   new MovableResizeCommand(movable, ww, hh));\r\n  }\r\n\r\n\r\n  constructor(\r\n    @Inject(ICommandService) private readonly commandService_: ICommandService) {\r\n\r\n  }\r\n\r\n  ngOnChanges(changes: SimpleChanges) {\r\n    if (changes.movable) {\r\n      this.subs_.forEach(sub => sub.unsubscribe());\r\n      this.subs_ = [];\r\n\r\n      const movable = this.movable;\r\n      this.x = movable.x;\r\n      this.y = movable.y;\r\n      this.w = movable.w;\r\n      this.h = movable.h;\r\n      this.r = movable.r;\r\n      this.subs_.push(movable.onDidChange.subscribe(() => {\r\n        this.x = movable.x;\r\n        this.y = movable.y;\r\n        this.w = movable.w;\r\n        this.h = movable.h;\r\n        this.r = movable.r;\r\n      }));\r\n    }\r\n  }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.subs_.forEach(sub => sub.unsubscribe());\r\n  }\r\n\r\n}","<div class=\"control\">\r\n  <div class=\"row\">\r\n    <mat-form-field>\r\n      <input matInput placeholder=\"Position X\" [(ngModel)]=\"x\"\r\n        (keyup)=\"onChangePosition(+$event.target.value, undefined)\">\r\n      <span matSuffix>px</span>\r\n    </mat-form-field>\r\n    <mat-form-field>\r\n      <input matInput placeholder=\"Position Y\" [(ngModel)]=\"y\"\r\n        (keyup)=\"onChangePosition(undefined, +$event.target.value)\">\r\n      <span matSuffix>px</span>\r\n    </mat-form-field>\r\n  </div>\r\n  <div class=\"row\">\r\n    <mat-form-field>\r\n      <input matInput placeholder=\"Width\" [(ngModel)]=\"w\"\r\n        (keyup)=\"onChangeSize(+$event.target.value, undefined)\">\r\n      <span matSuffix>px</span>\r\n    </mat-form-field>\r\n    <mat-form-field>\r\n      <input matInput placeholder=\"Height\" [(ngModel)]=\"h\"\r\n        (keyup)=\"onChangeSize(undefined, +$event.target.value)\">\r\n      <span matSuffix>px</span>\r\n    </mat-form-field>\r\n  </div>\r\n</div>","import { Component, Input, Inject, OnInit, OnDestroy } from '@angular/core';\r\nimport { Subscription } from 'rxjs';\r\nimport { TextDrawing, TextDrawingChangeTextCommand, TextDrawingChangeSizeCommand, TextDrawingChangeColorCommand, TextDrawingChangeFontCommand } from 'src/app/model/text-drawing';\r\nimport { ICommandService } from 'src/app/service/command.service';\r\nimport { CanvasAddStackElementCommand } from 'src/app/model/canvas';\r\n\r\n@Component({\r\n  selector: 'text-drawing-control',\r\n  templateUrl: './text-drawing-control.component.html',\r\n  styleUrls: ['./text-drawing-control.component.scss']\r\n})\r\nexport class TextDrawingControlComponent implements OnInit, OnDestroy {\r\n\r\n  private subs_: Subscription[] = [];\r\n\r\n  @Input() drawing: TextDrawing;\r\n\r\n  public text: string;\r\n  public onChangeText(text: string) {\r\n    const drawing = this.drawing;\r\n    this.commandService_.dispatch(\r\n      new TextDrawingChangeTextCommand(drawing, text));\r\n  }\r\n\r\n  public size: number;\r\n  public onChangeSize(size: number) {\r\n    const drawing = this.drawing;\r\n    this.commandService_.dispatch(\r\n      new TextDrawingChangeSizeCommand(drawing, size));\r\n  }\r\n\r\n  private color_: string;\r\n  public get color() { return this.color_; }\r\n  public set color(v: string) {\r\n    this.commandService_.dispatch(\r\n      new TextDrawingChangeColorCommand(this.drawing, v));\r\n  }\r\n  onColorChange() {\r\n    this.commandService_.dispatch(\r\n      new CanvasAddStackElementCommand());\r\n  }\r\n\r\n  public font: string;\r\n  public onChangeFont(font: string) {\r\n    const drawing = this.drawing;\r\n    this.commandService_.dispatch(\r\n      new TextDrawingChangeFontCommand(drawing, font));\r\n    this.commandService_.dispatch(\r\n      new CanvasAddStackElementCommand());\r\n  }\r\n\r\n  constructor(\r\n    @Inject(ICommandService) private readonly commandService_: ICommandService) {\r\n    \r\n  }\r\n\r\n  ngOnInit() {\r\n    this.text = this.drawing.text;\r\n    this.size = this.drawing.size;\r\n    this.font = this.drawing.font;\r\n    this.color_ = this.drawing.color;\r\n    this.subs_.push(this.drawing.onDidChangeText.subscribe(() => {\r\n      this.text = this.drawing.text;\r\n      this.size = this.drawing.size;\r\n      this.color_ = this.drawing.color;\r\n      this.font = this.drawing.font;\r\n    }));\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.subs_.forEach(sub => sub.unsubscribe());\r\n  }\r\n\r\n  onBlur() {\r\n    this.commandService_.dispatch(\r\n      new CanvasAddStackElementCommand());\r\n  }\r\n\r\n}","<div class=\"control\">\r\n  <div class=\"row\">\r\n    <mat-form-field style=\"width: 100%\">\r\n      <input matInput placeholder=\"Text\" [(ngModel)]=\"text\"\r\n        (keyup)=\"onChangeText($event.target.value)\"\r\n        (blur)=\"onBlur()\">\r\n    </mat-form-field>\r\n  </div>\r\n  <div class=\"row\">\r\n    <mat-form-field>\r\n      <mat-label>Font</mat-label>\r\n      <mat-select [value]=\"font\"\r\n          (selectionChange)=\"onChangeFont($event.value)\">\r\n        <mat-option value=\"Nanum Gothic\">Nanum Gothic</mat-option>\r\n        <mat-option value=\"Nanum Myeongjo\">Nanum Myeongjo</mat-option>\r\n        <mat-option value=\"Nanum Brush Script\">Nanum Brush Script</mat-option>\r\n        <mat-option value=\"Nanum Pen Script\">Nanum Pen Script</mat-option>\r\n      </mat-select>\r\n    </mat-form-field>\r\n  </div>\r\n  <div class=\"row\">\r\n    <mat-form-field>\r\n      <input matInput placeholder=\"Size\" [(ngModel)]=\"size\"\r\n        (keyup)=\"onChangeSize(+$event.target.value)\"\r\n        (blur)=\"onBlur()\">\r\n    </mat-form-field>\r\n    <div class=\"color\">\r\n      <input class=\"color\" [(colorPicker)]=\"color\"\r\n          (colorPickerSelect)=\"onColorChange()\"\r\n          [cpPosition]=\"'left'\"\r\n          [style.background]=\"color\"/>\r\n    </div>\r\n  </div>\r\n</div>","import { Component, Input, ChangeDetectionStrategy, ViewChild, ElementRef, AfterViewInit, OnInit, OnDestroy, ComponentRef } from '@angular/core';\r\nimport { ImageDrawing } from 'src/app/model/image-drawing';\r\nimport { Subscription } from 'rxjs';\r\nimport { throttleTime } from 'rxjs/operators';\r\nimport { IDrawingComponent } from 'src/app/components/drawing/drawing.component';\r\nimport { MovableComponent } from 'src/app/components/movable/movable.component';\r\nimport { ImageFilter } from 'src/app/util/image-filter';\r\n\r\n@Component({\r\n  selector: 'image-drawing',\r\n  templateUrl: './image-drawing.component.html',\r\n  changeDetection: ChangeDetectionStrategy.OnPush\r\n})\r\nexport class ImageDrawingComponent implements IDrawingComponent, AfterViewInit, OnDestroy {\r\n\r\n  @ViewChild('canvas') canvasRef_: ElementRef<HTMLCanvasElement>;\r\n  @ViewChild('movable') movableComponent: MovableComponent;\r\n  private cvs_: HTMLCanvasElement;\r\n  private ctx_: CanvasRenderingContext2D;\r\n\r\n  @Input() drawing: ImageDrawing;\r\n\r\n  private subs_: Subscription[] = [];\r\n\r\n  constructor() {\r\n  }\r\n\r\n  ngAfterViewInit() {\r\n    this.cvs_ = this.canvasRef_.nativeElement;\r\n    this.ctx_ = this.canvasRef_.nativeElement.getContext('2d');\r\n    this.subs_.push(this.movableComponent.onDidUpdate.subscribe(() => {\r\n      this.localRender();\r\n    }));\r\n    this.subs_.push(this.drawing.onDidDirty.pipe(\r\n      throttleTime(16, undefined, {trailing: true})\r\n    ).subscribe(() => { this.localRender() }));\r\n    this.localRender();\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.subs_.forEach(sub => sub.unsubscribe());\r\n  }\r\n\r\n  private localRender() {\r\n    const movable = this.drawing.movable;\r\n    this.cvs_.width = Math.abs(movable.w);\r\n    this.cvs_.height = Math.abs(movable.h);\r\n    this.render(this.ctx_);\r\n  }\r\n\r\n  public render(ctx: CanvasRenderingContext2D) {\r\n    const movable = this.drawing.movable;\r\n    let x = 0, y = 0;\r\n    ctx.save();\r\n    if (this.drawing.invertX) {\r\n      x = -movable.w;\r\n      ctx.scale(-1, 1);\r\n    }\r\n    if (this.drawing.invertY) {\r\n      y = -movable.h;\r\n      ctx.scale(1, -1);\r\n    }\r\n    ctx.drawImage(this.drawing.img,\r\n        0, 0, this.drawing.img.width, this.drawing.img.height,\r\n        x, y, movable.w, movable.h);\r\n    const filter = this.drawing.filter;\r\n    filter && filter.apply(ctx);\r\n    ctx.restore();\r\n  }\r\n\r\n}","<movable #movable [movable]=\"drawing.movable\">\r\n  <canvas #canvas></canvas>\r\n</movable>","import { Component, Input, OnInit, OnDestroy, ChangeDetectionStrategy, ChangeDetectorRef, Inject, Optional, HostBinding, ViewChild, TemplateRef, ViewContainerRef, EventEmitter } from '@angular/core';\r\nimport vec2 from 'src/app/util/vec2';\r\nimport mat2 from 'src/app/util/mat2';\r\nimport { Movable, MovableTranslateCommand, MovableResizeCommand, MovableRotateCommand } from 'src/app/model/movable';\r\nimport vec4 from 'src/app/util/vec4';\r\nimport { Subscription } from 'rxjs';\r\nimport { throttleTime } from 'rxjs/operators';\r\nimport { ICommandService } from 'src/app/service/command.service';\r\nimport { CanvasAddStackElementCommand } from 'src/app/model/canvas';\r\nimport { CanvasComponentService } from 'src/app/components/canvas/canvas.component.service';\r\n\r\n@Component({\r\n  selector: 'movable',\r\n  templateUrl: './movable.component.html',\r\n  styleUrls: ['movable.component.scss'],\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n})\r\nexport class MovableComponent implements OnInit, OnDestroy {\r\n\r\n  public readonly onDidUpdate = new EventEmitter<void>();\r\n\r\n  @Input() movable: Movable;\r\n  @Input() focused: boolean = false;\r\n\r\n  @ViewChild('gui') guiContent: TemplateRef<any>;\r\n\r\n  @HostBinding('attr.movable-id')\r\n  public get id() { return this.movable.id; }\r\n\r\n  private subs_: Subscription[] = [];\r\n\r\n  public centerVec = new vec2();\r\n  public sizeVec = new vec2();\r\n  public thumbTL = new vec2();\r\n  public thumbTR = new vec2();\r\n  public thumbBL = new vec2();\r\n  public thumbBR = new vec2();\r\n  public thumbBC = new vec2();\r\n  public thumbCR = new vec2();\r\n\r\n  private srcMousePosition_: vec2;\r\n  private srcMovableState_: vec4;\r\n  private srcMovableRotate_: number;\r\n\r\n  private srcRotationMat_: mat2;\r\n  private srcRrotationMat_: mat2;\r\n\r\n  public readonly updateResizeUL = this.updateResize.bind(this, [1, 1, 0, 0]);\r\n  public readonly updateResizeUR = this.updateResize.bind(this, [0, 1, 1, 0]);\r\n  public readonly updateResizeBL = this.updateResize.bind(this, [1, 0, 0, 1]);\r\n  public readonly updateResizeBR = this.updateResize.bind(this, [0, 0, 1, 1]);\r\n\r\n  constructor(\r\n    public readonly viewContainerRef: ViewContainerRef,\r\n    private readonly changeRef: ChangeDetectorRef,\r\n    private readonly canvasComponentService_: CanvasComponentService,\r\n    @Inject(ICommandService) private readonly commandService_: ICommandService) {\r\n    this.updateTranslate = this.updateTranslate.bind(this);\r\n    this.updateRotate = this.updateRotate.bind(this);\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.update();\r\n    this.subs_.push(this.movable.onDidChange.pipe(\r\n      throttleTime(16, undefined, {trailing: true})).subscribe(() => {\r\n      this.update();\r\n    }));\r\n    this.subs_.push(this.canvasComponentService_.canvasComponent.onDidChangeCamera.pipe(\r\n      throttleTime(16, undefined, {trailing: true})).subscribe(() => {\r\n      this.update();\r\n    }));\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.subs_.forEach(sub => sub.unsubscribe());\r\n  }\r\n\r\n  private saveSrcRotation() {\r\n    this.srcRotationMat_ = mat2.rotation(this.movable.rad);\r\n    this.srcRrotationMat_ = mat2.rotation(-1 * this.movable.rad);\r\n  }\r\n\r\n  private update() {\r\n    if (!this.focused) {\r\n      this.onDidUpdate.emit();\r\n      this.changeRef.markForCheck();\r\n      return;\r\n    }\r\n    const canvas = this.canvasComponentService_.canvasComponent;\r\n    const zoom = canvas.cameraZoom;\r\n    const [w, h] = [this.movable.w, this.movable.h];\r\n    const center = new vec2([this.movable.x, this.movable.y]);\r\n    const zoomVec = new vec2([zoom, zoom]);\r\n    const translate = new vec2([canvas.cameraX, canvas.cameraY]);\r\n    center.multiply(zoomVec);\r\n    this.centerVec.xy = [center.x, center.y];\r\n    this.centerVec.add(translate);\r\n    this.sizeVec = new vec2([this.movable.w, this.movable.h]);\r\n    this.sizeVec.multiply(zoomVec);\r\n    // translate.multiply(new vec2([zoom, zoom]));\r\n   [[this.thumbTL,\r\n      new vec2([-w / 2, -h / 2])],\r\n    [this.thumbTR,\r\n      new vec2([w / 2, -h / 2])],\r\n    [this.thumbBL,\r\n    new vec2([-w / 2, h / 2])],\r\n    [this.thumbBR,\r\n    new vec2([w / 2, h / 2])],\r\n    [this.thumbBC,\r\n    new vec2([0, h / 2])],\r\n    [this.thumbCR,\r\n    new vec2([0, h / 2 + 30])]].forEach(thumb => {\r\n      const ct = thumb[1];\r\n      ct.multiply(new vec2([zoom, zoom]));\r\n      // ct.add(center);\r\n      // ct.add(translate);\r\n      // const rot_ct = ct.multiplyMat2(rot);\r\n      thumb[0].xy = ct.xy;\r\n    })\r\n    this.onDidUpdate.emit();\r\n    this.changeRef.markForCheck();\r\n  }\r\n\r\n  public startTranslate(e: MouseEvent, stopProp: boolean = false) {\r\n    if (e.button != 0) return;\r\n    if (stopProp) e.stopPropagation();\r\n    const movable = this.movable;\r\n    this.srcMousePosition_ = new vec2([e.screenX, e.screenY]);\r\n    this.srcMovableState_ = new vec4([\r\n      movable.x, movable.y, movable.w, movable.h])\r\n    window.addEventListener('mousemove', this.updateTranslate);\r\n    const mouseup = () => {\r\n      this.commandService_.dispatch(\r\n        new CanvasAddStackElementCommand());\r\n      window.removeEventListener('mousemove', this.updateTranslate);\r\n      window.removeEventListener('mouseup', mouseup);\r\n    }\r\n    window.addEventListener('mouseup', mouseup);\r\n  }\r\n\r\n  private updateTranslate(e: MouseEvent) {\r\n    const movable = this.movable;\r\n    const currentMosuePosition = new vec2([e.screenX, e.screenY]);\r\n    const dp = currentMosuePosition.subtract(this.srcMousePosition_);\r\n    const zoom = 1 / this.canvasComponentService_.canvasComponent.cameraZoom;\r\n    dp.multiply(new vec2([zoom, zoom]));\r\n    const nx = this.srcMovableState_.x + dp.x;\r\n    const ny = this.srcMovableState_.y + dp.y;\r\n\r\n    const command = new MovableTranslateCommand(movable, nx, ny);\r\n    this.commandService_.dispatch(command);\r\n  }\r\n\r\n  public startResize(e: MouseEvent, resizeFunc: any) {\r\n    if (e.button != 0) return;\r\n    e.stopPropagation();\r\n    const movable = this.movable;\r\n    this.srcMousePosition_ = new vec2([e.screenX, e.screenY]);\r\n    this.srcMovableState_ = new vec4([\r\n      movable.x, movable.y, movable.w, movable.h])\r\n    this.srcMovableRotate_ = movable.r;\r\n    this.saveSrcRotation();\r\n    window.addEventListener('mousemove', resizeFunc);\r\n    const mouseup = () => {\r\n      this.commandService_.dispatch(\r\n        new CanvasAddStackElementCommand());\r\n      window.removeEventListener('mousemove', resizeFunc);\r\n      window.removeEventListener('mouseup', mouseup);\r\n    }\r\n    window.addEventListener('mouseup', mouseup);\r\n  }\r\n\r\n  private updateResize(\r\n      multiplier: [number, number, number, number],\r\n      e: MouseEvent) {\r\n    e.stopPropagation();\r\n    const movable = this.movable;\r\n    const src = this.srcMovableState_;\r\n    const currentMosuePosition = new vec2([e.screenX, e.screenY]);\r\n    const dp = currentMosuePosition.subtract(this.srcMousePosition_);\r\n    const local_dp = new vec2([dp.x, dp.y]);\r\n    local_dp.multiplyMat2(this.srcRrotationMat_);\r\n    const zoom = 1 / this.canvasComponentService_.canvasComponent.cameraZoom;\r\n    local_dp.multiply(new vec2([zoom, zoom]));\r\n\r\n    if (movable.aspect) { \r\n      const projection = new vec2([\r\n        -src.z * multiplier[0] + src.z * multiplier[2],\r\n        -src.w * multiplier[1] + src.w * multiplier[3]]).normalize();\r\n      projection.scale(vec2.dot(projection, local_dp), local_dp);\r\n    }\r\n\r\n    const newLocalUL = new vec2([\r\n      - src.z / 2 + local_dp.x * multiplier[0],\r\n      - src.w / 2 + local_dp.y * multiplier[1]])\r\n    const newLocalBR = new vec2([\r\n      src.z / 2 + local_dp.x * multiplier[2],\r\n      src.w / 2 + local_dp.y * multiplier[3]]);\r\n    const newLocalCenter =  newLocalUL.copy();\r\n    newLocalCenter.add(newLocalBR).multiply(new vec2([0.5, 0.5]));\r\n    const newCenter = newLocalCenter.copy();\r\n    newCenter.multiplyMat2(this.srcRotationMat_);\r\n    newCenter.add(new vec2([src.x, src.y]));\r\n    const newUL = newLocalUL.copy();\r\n    const newBR = newLocalBR.copy();\r\n    newUL.multiplyMat2(this.srcRotationMat_).add(newCenter);\r\n    newBR.multiplyMat2(this.srcRotationMat_).add(newCenter);\r\n    const newSize = newLocalBR.subtract(newLocalUL);\r\n\r\n    const nx = newCenter.x;\r\n    const ny = newCenter.y;\r\n    const nw = Math.abs(newSize.x);\r\n    const nh = Math.abs(newSize.y);\r\n    const nr = (newSize.x >= 0 && newSize.y >= 0) ? \r\n      this.srcMovableRotate_ :\r\n      (this.srcMovableRotate_ + 180 + 360) % 360;\r\n\r\n    this.commandService_.dispatch(\r\n        new MovableTranslateCommand(movable, nx, ny));\r\n    this.commandService_.dispatch(\r\n        new MovableResizeCommand(movable, nw, nh));\r\n    this.commandService_.dispatch(\r\n        new MovableRotateCommand(movable, nr));\r\n  }\r\n\r\n  startRotate(e: MouseEvent) {\r\n    if (e.button != 0) return;\r\n    e.stopPropagation();\r\n    const movable = this.movable;\r\n    this.srcMousePosition_ = new vec2([e.pageX, e.pageY]);\r\n    this.srcMovableState_ = new vec4([\r\n      movable.x, movable.y, movable.w, movable.h])\r\n    this.srcMovableRotate_ = movable.r;\r\n    this.saveSrcRotation();\r\n    window.addEventListener('mousemove', this.updateRotate);\r\n    const mouseup = () => {\r\n      this.commandService_.dispatch(\r\n        new CanvasAddStackElementCommand());\r\n      window.removeEventListener('mousemove', this.updateRotate);\r\n      window.removeEventListener('mouseup', mouseup);\r\n    }\r\n    window.addEventListener('mouseup', mouseup);\r\n  }\r\n\r\n  private updateRotate(e: MouseEvent) {\r\n    e.stopPropagation();\r\n    const movable = this.movable;\r\n    const currentMosuePosition = new vec2([e.pageX, e.pageY]);\r\n    const dp = this.canvasComponentService_.\r\n        canvasComponent.fromPageToCanvasScreen(currentMosuePosition)\r\n    dp.subtract(this.centerVec);\r\n    const rad = Math.atan2(dp.y, dp.x);\r\n    const deg = ((rad / Math.PI * 180 - 90) + 360) % 360\r\n\r\n    this.commandService_.dispatch(\r\n        new MovableRotateCommand(movable, deg));\r\n  }\r\n\r\n  public focus() {\r\n    this.focused = true;\r\n    this.update();\r\n    this.changeRef.markForCheck();\r\n  }\r\n\r\n  public blur() {\r\n    this.focused = false;\r\n    this.update();\r\n    this.changeRef.markForCheck();\r\n  }\r\n\r\n  public getCenterStyle() {\r\n    return {\r\n      'z-index': this.movable.z,\r\n      transform: `\r\n        translateX(${this.movable.x}px)\r\n        translateY(${this.movable.y}px)`\r\n    }\r\n  }\r\n\r\n  public getThumbCenterStyle() {\r\n    return {\r\n      transform: `\r\n        translateX(${this.centerVec.x}px)\r\n        translateY(${this.centerVec.y}px)\r\n        rotate(${this.movable.r}deg)`\r\n    }\r\n  }\r\n\r\n  public getThumbContentStyle() {\r\n    return {\r\n      width: `${this.sizeVec.x}px`,\r\n      height: `${this.sizeVec.y}px`,\r\n      transform: `\r\n        translateX(${-this.sizeVec.x / 2}px)\r\n        translateY(${-this.sizeVec.y / 2}px)`\r\n    }\r\n  }\r\n\r\n  public getBoxStyle() {\r\n    return {\r\n      width: `${Math.abs(this.movable.w)}px`,\r\n      height: `${Math.abs(this.movable.h)}px`,\r\n      transform: `\r\n        translateX(${-Math.abs(this.movable.w) / 2}px)\r\n        translateY(${-Math.abs(this.movable.h) / 2}px)\r\n        rotate(${this.movable.r}deg)`\r\n    }\r\n  }\r\n\r\n  public getGUIStyle() {\r\n    return {\r\n      transform: `\r\n        translateX(${this.movable.x}px)\r\n        translateY(${this.movable.y}px)`\r\n    }\r\n  }\r\n\r\n  public getThumbStyle(thumb: vec2) {\r\n    return {\r\n      transform: `translateX(${thumb.x}px) translateY(${thumb.y}px)`\r\n    }\r\n  }\r\n\r\n  public getLineStyle(from: vec2, to: vec2) {\r\n    const sub = new vec2([to.x, to.y]);\r\n    sub.subtract(from);\r\n    const angle = Math.atan2(sub.y, sub.x) / Math.PI * 180;\r\n    return {\r\n      width: `${sub.length()}px`,\r\n      transform: `translateX(${from.x + 0.5}px) translateY(${from.y}px) rotate(${angle}deg)`\r\n    }\r\n  }\r\n\r\n}","<div class=\"movable\" [ngStyle]=\"getCenterStyle()\">\r\n  <ng-template #gui>\r\n    <div class=\"thumbs\" [ngStyle]=\"getThumbCenterStyle()\">\r\n      <div class=\"thumb tl\"\r\n        (mousedown)=\"startResize($event, updateResizeUL)\"\r\n        [ngStyle]=\"getThumbStyle(thumbTL)\"></div>\r\n      <div class=\"thumb tr\"\r\n        (mousedown)=\"startResize($event, updateResizeUR)\"\r\n        [ngStyle]=\"getThumbStyle(thumbTR)\"></div>\r\n      <div class=\"thumb bl\"\r\n        (mousedown)=\"startResize($event, updateResizeBL)\"\r\n        [ngStyle]=\"getThumbStyle(thumbBL)\"></div>\r\n      <div class=\"thumb br\"\r\n        (mousedown)=\"startResize($event, updateResizeBR)\"\r\n        [ngStyle]=\"getThumbStyle(thumbBR)\"></div>\r\n      <div class=\"line top\" [ngStyle]=\"getLineStyle(thumbTL, thumbTR)\"></div>\r\n      <div class=\"line right\" [ngStyle]=\"getLineStyle(thumbTR, thumbBR)\"></div>\r\n      <div class=\"line bottom\" [ngStyle]=\"getLineStyle(thumbBR, thumbBL)\"></div>\r\n      <div class=\"line left\" [ngStyle]=\"getLineStyle(thumbBL, thumbTL)\"></div>\r\n      <div class=\"line rotate\" [ngStyle]=\"getLineStyle(thumbBC, thumbCR)\">\r\n        <div class=\"thumb\"\r\n          (mousedown)=\"startRotate($event)\"></div>\r\n      </div>\r\n      <!-- <div class=\"content\" (mousedown)=\"startTranslate($event, true)\"\r\n        [ngStyle]=\"getThumbContentStyle()\"\r\n        [attr.movable-id]=\"movable.id\"\r\n        ></div> -->\r\n    </div>\r\n  </ng-template>\r\n  <div class=\"content\" [ngStyle]=\"getBoxStyle()\"\r\n    (mousedown)=\"startTranslate($event)\">\r\n    <ng-content></ng-content>\r\n  </div>\r\n</div>","import { Component, Input, ChangeDetectionStrategy, ViewChild, ElementRef, AfterViewInit, OnInit, OnDestroy, ComponentRef } from '@angular/core';\r\nimport { Subscription } from 'rxjs';\r\nimport { throttleTime } from 'rxjs/operators';\r\nimport { TextDrawing } from 'src/app/model/text-drawing';\r\nimport { IDrawingComponent } from 'src/app/components/drawing/drawing.component';\r\nimport { MovableComponent } from 'src/app/components/movable/movable.component';\r\nimport { ImageFilter } from 'src/app/util/image-filter';\r\n\r\n@Component({\r\n  selector: 'text-drawing',\r\n  template: `\r\n    <movable #movable [movable]=\"drawing.movable\">\r\n      <canvas #canvas></canvas>\r\n    </movable>`,\r\n  changeDetection: ChangeDetectionStrategy.OnPush\r\n})\r\nexport class TextDrawingComponent implements IDrawingComponent, AfterViewInit, OnDestroy {\r\n\r\n  @ViewChild('canvas') canvasRef_: ElementRef<HTMLCanvasElement>;\r\n  @ViewChild('movable') movableComponent: MovableComponent;\r\n  private cvs_: HTMLCanvasElement;\r\n  private ctx_: CanvasRenderingContext2D;\r\n\r\n  @Input() drawing: TextDrawing;\r\n\r\n  private subs_: Subscription[] = [];\r\n\r\n  constructor() {\r\n  }\r\n\r\n  ngAfterViewInit() {\r\n    this.cvs_ = this.canvasRef_.nativeElement;\r\n    this.ctx_ = this.canvasRef_.nativeElement.getContext('2d');\r\n    this.subs_.push(this.movableComponent.onDidUpdate.subscribe(() => {\r\n      this.localRender();\r\n    }));\r\n    this.subs_.push(this.drawing.onDidDirty.pipe(\r\n      throttleTime(16, undefined, {trailing: true})\r\n    ).subscribe(() => { this.localRender() }));\r\n    this.subs_.push(this.drawing.onDidChangeText.pipe(\r\n      throttleTime(16, undefined, {trailing: true})\r\n    ).subscribe(() => { this.localRender() }));\r\n    this.localRender();\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.subs_.forEach(sub => sub.unsubscribe());\r\n  }\r\n\r\n  private localRender() {\r\n    const movable = this.drawing.movable;\r\n    this.cvs_.width = Math.abs(movable.w);\r\n    this.cvs_.height = Math.abs(movable.h);\r\n    this.render(this.ctx_);\r\n  }\r\n\r\n  public render(ctx: CanvasRenderingContext2D) {\r\n    const drawing = this.drawing;\r\n    const movable = this.drawing.movable;\r\n    ctx.font = `${Math.abs(drawing.size)}px ${drawing.font}`;\r\n    ctx.fillStyle = this.drawing.color;\r\n    ctx.textBaseline = 'middle';\r\n    ctx.fillText(drawing.text, 0, movable.h / 2);\r\n    const filter = this.drawing.filter;\r\n    filter && filter.apply(ctx);\r\n  }\r\n\r\n}","import { Drawing } from 'src/app/model/drawing';\r\nimport { ICommand } from 'src/app/model/command';\r\nimport { EditStack } from 'src/app/model/edit-stack';\r\nimport { EventEmitter } from '@angular/core';\r\n\r\nexport abstract class CanvasCommand implements ICommand {\r\n  canvas: Canvas;\r\n  public abstract execute(): ICommand;\r\n}\r\n\r\nexport class CanvasAddStackElementCommand extends CanvasCommand {\r\n  public execute(): ICommand {\r\n    this.canvas.editStack.pushStackElement();\r\n    return null;\r\n  }\r\n}\r\n\r\nexport class CanvasAddDrawingCommand implements ICommand {\r\n  constructor(public readonly canvas: Canvas,\r\n    public readonly drawing: Drawing, public readonly index?: number) {}\r\n\r\n  public execute(): ICommand {\r\n    this.canvas.addDrawing(this.drawing);\r\n    return new CanvasRemoveDrawingCommand(this.canvas, this.drawing);\r\n  }\r\n\r\n}\r\n\r\nexport class CanvasResizeCommand implements ICommand {\r\n  constructor(public readonly canvas: Canvas,\r\n    public readonly w: number, public readonly h: number) {}\r\n\r\n  public execute(): ICommand {\r\n    const canvas = this.canvas;\r\n    const inverse = new CanvasResizeCommand(\r\n      canvas, canvas.width, canvas.height);\r\n    canvas.width = this.w;\r\n    canvas.height = this.h;\r\n    return inverse;\r\n  }\r\n\r\n}\r\n\r\nexport class CanvasRemoveDrawingCommand implements ICommand {\r\n  constructor(public readonly canvas: Canvas,\r\n    public readonly drawing: Drawing) {}\r\n\r\n  public execute(): ICommand {\r\n    if (!this.canvas.hasDrawing(this.drawing)) return;\r\n    const index = this.canvas.getDrawingIndex(this.drawing);\r\n    const inverse = new CanvasAddDrawingCommand(\r\n      this.canvas, this.drawing, index);\r\n    this.canvas.removeDrawing(this.drawing);\r\n    return inverse;\r\n  }\r\n}\r\n\r\nexport class CanvasReorderCommand implements ICommand {\r\n  constructor(public readonly canvas: Canvas,\r\n    public readonly i: number, public readonly j: number) {}\r\n\r\n  public execute(): ICommand {\r\n    const canvas = this.canvas;\r\n    const ii = canvas.drawings[this.i];\r\n    const jj = canvas.drawings[this.j];\r\n    if (!ii || !jj) return;\r\n    const inverse = new CanvasReorderCommand(\r\n      canvas, this.i, this.j);\r\n    canvas.swapDrawing(this.i, this.j);\r\n    return inverse;\r\n  }\r\n\r\n}\r\n\r\nexport interface CanvasDrawingAddRemoveEvent {\r\n  readonly drawing: Drawing;\r\n  readonly index: number;\r\n}\r\n\r\nexport class Canvas {\r\n\r\n  public readonly onDidAddDrawing = new EventEmitter<CanvasDrawingAddRemoveEvent>();\r\n  public readonly onWillRemoveDrawing = new EventEmitter<CanvasDrawingAddRemoveEvent>();\r\n  public readonly onDidChangeSize = new EventEmitter<void>();\r\n  public readonly onDidReorderDrawing = new EventEmitter<[number, number]>();\r\n\r\n  private editStack_: EditStack = new EditStack();\r\n  public get editStack() { return this.editStack_; }\r\n\r\n  private drawings_: Array<Drawing> = [];\r\n  public get drawings(): ReadonlyArray<Drawing> {\r\n    return this.drawings_; }\r\n\r\n  private width_: number = 500;\r\n  public get width() { return this.width_;}\r\n  public set width(v: number) {\r\n    if (isNaN(v)) {\r\n      this.onDidChangeSize.emit();\r\n      return;\r\n    }\r\n    this.width_ = v;\r\n    this.onDidChangeSize.emit();\r\n  }\r\n  private height_: number = 500;\r\n  public get height() { return this.height_; }\r\n  public set height(v: number) {\r\n    if (isNaN(v)) {\r\n      this.onDidChangeSize.emit();\r\n      return;\r\n    }\r\n    this.height_ = v;\r\n    this.onDidChangeSize.emit();\r\n  }\r\n\r\n  constructor() {\r\n\r\n  }\r\n\r\n  public getDrawingIndex(drawing: Drawing) {\r\n    return this.drawings_.indexOf(drawing);\r\n  }\r\n\r\n  public swapDrawing(i: number, j: number) {\r\n    const tmp = this.drawings_[i];\r\n    this.drawings_[i] = this.drawings_[j];\r\n    this.drawings_[j] = tmp;\r\n    this.reorder();\r\n    this.onDidReorderDrawing.emit([i, j]);\r\n  }\r\n\r\n  public hasDrawing(drawing: Drawing) {\r\n    return this.drawings.indexOf(drawing) != -1;\r\n  }\r\n\r\n  public addDrawing(drawing: Drawing, index?: number) {\r\n    index = index || 0;\r\n    this.drawings_.splice(index || 0, 0, drawing);\r\n    this.reorder();\r\n    this.onDidAddDrawing.emit({\r\n      drawing: drawing,\r\n      index: index\r\n    });\r\n  }\r\n\r\n  public removeDrawing(drawing: Drawing) {\r\n    this.onWillRemoveDrawing.emit({\r\n      drawing: drawing,\r\n      index: this.getDrawingIndex(drawing)\r\n    });\r\n    this.reorder();\r\n    this.drawings_.splice(this.drawings_.indexOf(drawing), 1);\r\n  }\r\n\r\n  public pushCommand(command: ICommand) {\r\n    this.editStack_.pushEditCommand(command);\r\n  }\r\n\r\n  private reorder() {\r\n    let z = this.drawings_.length - 1;\r\n    for (let i = 0; i < this.drawings_.length; i ++) {\r\n      const drawing = this.drawings_[i];\r\n      drawing.movable.z = z--;\r\n    }\r\n  }\r\n\r\n}","import { ImageFilter } from 'src/app/util/image-filter';\r\nimport { EventEmitter } from '@angular/core';\r\nimport { ICommand } from 'src/app/model/command';\r\nimport { ICommandService } from 'src/app/service/command.service';\r\n\r\nexport interface IDrawingFilter {\r\n\r\n  readonly type: string;\r\n\r\n  readonly onUpdate: EventEmitter<void>;\r\n  apply(ctx: CanvasRenderingContext2D): void;\r\n\r\n}\r\n\r\nexport abstract class AbstractDrawingFilter implements IDrawingFilter {\r\n\r\n  public abstract get type(): string;\r\n  public readonly onUpdate = new EventEmitter<void>();\r\n\r\n  public abstract apply(ctx: CanvasRenderingContext2D): void;\r\n\r\n}\r\n\r\nexport class BlurDrawingFilter extends AbstractDrawingFilter {\r\n\r\n  public static readonly type = \"Blur\";\r\n  readonly type = BlurDrawingFilter.type;\r\n\r\n  public apply(ctx: CanvasRenderingContext2D) {\r\n    const g = 1 / 9;\r\n    ImageFilter.boxFilter(ctx, [g,g,g,g,g,g,g,g,g]);\r\n  }\r\n\r\n}\r\n\r\nexport class ColorDrawingFilter extends AbstractDrawingFilter {\r\n\r\n  public static readonly type = \"Color\";\r\n  readonly type = ColorDrawingFilter.type;\r\n\r\n  private r_: number = 100;\r\n  public get r() { return this.r_; }\r\n  public set r(v: number) {\r\n    this.r_ = v;\r\n    this.onUpdate.emit();\r\n  }\r\n  private g_: number = 70;\r\n  public get g() { return this.g_; }\r\n  public set g(v: number) {\r\n    this.g_ = v;\r\n    this.onUpdate.emit();\r\n  }\r\n  private b_: number = 30;\r\n  public get b() { return this.b_; }\r\n  public set b(v: number) {\r\n    this.b_ = v;\r\n    this.onUpdate.emit();\r\n  }\r\n  private o_: number = 0.3;\r\n  public get o() { return this.o_; }\r\n  public set o(v: number) {\r\n    this.o_ = v;\r\n    this.onUpdate.emit();\r\n  }\r\n\r\n  public apply(ctx: CanvasRenderingContext2D) {\r\n    ImageFilter.mixWithColor(ctx, this.r, this.g, this.b, this.o);\r\n  }\r\n\r\n}\r\n\r\nexport class ColorDawingFilterChangeCommand implements ICommand {\r\n  constructor(public readonly filter: ColorDrawingFilter,\r\n    public readonly r, public readonly g, public readonly b,\r\n    public readonly o) {}\r\n\r\n  public execute(): ICommand {\r\n    const inverse = new ColorDawingFilterChangeCommand(\r\n      this.filter, this.filter.r, this.filter.g, this.filter.b,\r\n      this.filter.o);\r\n    this.filter.r = this.r;\r\n    this.filter.g = this.g;\r\n    this.filter.b = this.b;\r\n    this.filter.o = this.o;\r\n    return inverse;\r\n  }\r\n}\r\n\r\nexport class GrayscaleDrawingFilter extends AbstractDrawingFilter {\r\n\r\n  public static readonly type = \"Grayscale\";\r\n  readonly type = GrayscaleDrawingFilter.type;\r\n\r\n  public apply(ctx: CanvasRenderingContext2D) {\r\n    ImageFilter.grayScale(ctx);\r\n  }\r\n\r\n}\r\n\r\nclass _FilterFactory {\r\n\r\n  public create(type: string) {\r\n    switch (type) {\r\n      case BlurDrawingFilter.type:\r\n        return new BlurDrawingFilter();\r\n      case ColorDrawingFilter.type:\r\n        return new ColorDrawingFilter();\r\n      case GrayscaleDrawingFilter.type:\r\n        return new GrayscaleDrawingFilter();\r\n    }\r\n    return null;\r\n  }\r\n\r\n}\r\nexport const FilterFactory = new _FilterFactory();","import { Movable } from 'src/app/model/movable';\r\nimport { IDrawingFilter } from 'src/app/model/drawing-filter';\r\nimport { EventEmitter } from '@angular/core';\r\nimport { Subscription } from 'rxjs';\r\nimport { ICommand } from 'src/app/model/command';\r\n\r\nlet __next_id = 0;\r\n\r\nexport interface IDrawing {\r\n\r\n  readonly id: number;\r\n  readonly type: string;\r\n  name: string;\r\n  readonly movable: Movable;\r\n  filter: IDrawingFilter;\r\n\r\n}\r\n\r\nexport class DrawingChangeFilterCommand implements ICommand {\r\n  constructor(public readonly drawing: Drawing,\r\n      public readonly filter: IDrawingFilter) {}\r\n\r\n  public execute(): ICommand {\r\n    const prev = this.drawing.filter;\r\n    const inverse = new DrawingChangeFilterCommand(this.drawing,\r\n        prev);\r\n    this.drawing.filter = this.filter;\r\n    return inverse;\r\n  }\r\n}\r\n\r\nexport abstract class Drawing implements IDrawing {\r\n\r\n  public readonly id: number;\r\n\r\n  public readonly onDidDirty = new EventEmitter<void>();\r\n  public readonly onDidChangeFilter = new EventEmitter<void>();\r\n\r\n  private filterSub_: Subscription;\r\n\r\n  public abstract get movable(): Movable;\r\n\r\n  private filter_: IDrawingFilter;\r\n  public get filter() { return this.filter_; }\r\n  public set filter(filter: IDrawingFilter) {\r\n    this.filterSub_ && this.filterSub_.unsubscribe();\r\n    this.filter_ = filter;\r\n    if (filter) {\r\n      this.filterSub_ = this.filter_.onUpdate.subscribe(() => {\r\n        this.onDidDirty.emit(); })\r\n    }\r\n    this.onDidChangeFilter.emit();\r\n    this.onDidDirty.emit();\r\n  }\r\n\r\n  constructor(\r\n    public readonly type: string,\r\n    public name: string) {\r\n    this.id = ++__next_id;\r\n  }\r\n\r\n  public dispose() {\r\n    this.filterSub_ && this.filterSub_.unsubscribe();\r\n  }\r\n\r\n}","import { ICommand } from 'src/app/model/command';\r\n\r\ninterface IStackElement {\r\n  commands: ICommand[];\r\n}\r\n\r\nclass StackElement implements IStackElement {\r\n\r\n  public commands: ICommand[] = [];\r\n\r\n  push(command: ICommand): void {\r\n    this.commands.push(command);\r\n  }\r\n\r\n}\r\n\r\nexport class EditStack {\r\n\r\n  private past_: StackElement[] = [];\r\n  private future_: StackElement[] = [];\r\n  private currentStackElement_: StackElement | null = null;\r\n\r\n  public pushEditCommand(command: ICommand) {\r\n    const inverse = command.execute();\r\n    if (!inverse) return;\r\n    if (!this.currentStackElement_) {\r\n      this.currentStackElement_ = new StackElement();\r\n    }\r\n    this.currentStackElement_.push(inverse);\r\n    this.future_ = [];\r\n  }\r\n\r\n  public pushStackElement(): void {\r\n    if (this.currentStackElement_ !== null) {\r\n      this.past_.push(this.currentStackElement_);\r\n      this.currentStackElement_ = null;\r\n    }\r\n  }\r\n\r\n  public get canUndo() {\r\n    return this.past_.length > 0 || this.currentStackElement_ != null;\r\n  }\r\n\r\n  public get canRedo() {\r\n    return this.future_.length > 0;\r\n  }\r\n\r\n  public undo() {\r\n    this.pushStackElement();\r\n    const pastStackElement = this.past_.pop();\r\n    if (!pastStackElement) return;\r\n    const futureStackElemnet = new StackElement();\r\n    for (let i = pastStackElement.commands.length - 1; i >= 0 ; i --) {\r\n      const command = pastStackElement.commands[i];\r\n      const inverse = command.execute();\r\n      if (!inverse) continue;\r\n      futureStackElemnet.push(inverse);\r\n    }\r\n    this.future_.push(futureStackElemnet);\r\n\r\n  }\r\n\r\n  public redo() {\r\n    const futureStackElement = this.future_.pop();\r\n    if (!futureStackElement) return;\r\n    const pastStackElemnet = new StackElement();\r\n    for (let i = futureStackElement.commands.length - 1; i >= 0 ; i --) {\r\n      const command = futureStackElement.commands[i];\r\n      const inverse = command.execute();\r\n      if (!inverse) continue;\r\n      pastStackElemnet.push(inverse);\r\n    }\r\n    this.past_.push(pastStackElemnet);\r\n  }\r\n\r\n}","import { Movable } from 'src/app/model/movable';\r\nimport { Drawing } from 'src/app/model/drawing';\r\nimport { ColorDrawingFilter } from 'src/app/model/drawing-filter';\r\nimport { ICommand } from 'src/app/model/command';\r\n\r\nexport class ImageDrawingChangeInvertCommand implements ICommand {\r\n  constructor(public readonly drawing: ImageDrawing,\r\n    public readonly invertX: boolean, public readonly invertY: boolean) {}\r\n\r\n  public execute(): ICommand {\r\n    const inverse = new ImageDrawingChangeInvertCommand(\r\n      this.drawing, this.invertX, this.invertY);\r\n    const invertX = this.invertX || this.invertX;\r\n    const invertY = this.invertY || this.invertY;\r\n    this.drawing.invertX = invertX;\r\n    this.drawing.invertY = invertY;\r\n    return inverse;\r\n  }\r\n}\r\n\r\nexport class ImageDrawing extends Drawing {\r\n\r\n  static readonly type = 'ImageDrawing';\r\n\r\n  public readonly movable = new Movable();\r\n\r\n  private invertX_: boolean = false;\r\n  public get invertX() { return this.invertX_; }\r\n  public set invertX(v: boolean) {\r\n    this.invertX_ = !!v;\r\n    this.onDidDirty.emit();\r\n  }\r\n  private invertY_: boolean = false;\r\n  public get invertY() { return this.invertY_; }\r\n  public set invertY(v: boolean) {\r\n    this.invertY_ = !!v;\r\n    this.onDidDirty.emit();\r\n  }\r\n\r\n  constructor(\r\n    public readonly img: HTMLImageElement) {\r\n    super(ImageDrawing.type, `Image`);\r\n    this.name = `Image ${this.id}`;\r\n    this.movable.w = img.width;\r\n    this.movable.h = img.height;\r\n    this.movable.onDidChangeSize.subscribe(() => this.onDidDirty.emit());\r\n  }\r\n\r\n}","import { EventEmitter } from '@angular/core';\r\nimport { ICommand } from 'src/app/model/command';\r\n\r\nexport class MovableResizeCommand implements ICommand {\r\n  constructor(public readonly movable: Movable,\r\n    public readonly w: number, public readonly h: number) {}\r\n\r\n  execute(): ICommand {\r\n    const movable = this.movable;\r\n    const inverse = new MovableResizeCommand(\r\n      movable, movable.w, movable.h);\r\n    movable.w = this.w;\r\n    movable.h = this.h;\r\n    return inverse;\r\n  }\r\n\r\n}\r\n\r\nexport class MovableTranslateCommand implements ICommand {\r\nconstructor(public readonly movable: Movable,\r\n    public readonly x: number, public readonly y: number) {}\r\n\r\n  execute(): ICommand {\r\n    const movable = this.movable;\r\n    const inverse = new MovableTranslateCommand(\r\n      movable, movable.x, movable.y);\r\n    movable.x = this.x;\r\n    movable.y = this.y;\r\n    return inverse;\r\n  }\r\n\r\n}\r\n\r\nexport class MovableRotateCommand implements ICommand {\r\n  constructor(public readonly movable: Movable,\r\n    public readonly r: number) {}\r\n\r\n  execute(): ICommand {\r\n    const movable = this.movable;\r\n    const inverse = new MovableRotateCommand(\r\n      movable, movable.r);\r\n    movable.r = this.r;\r\n    return inverse;\r\n  }\r\n\r\n}\r\n\r\nlet __next_movable_id = 0;\r\n\r\nexport class Movable {\r\n\r\n  public readonly id = ++__next_movable_id;\r\n\r\n  public readonly onDidChange = new EventEmitter<void>();\r\n  public readonly onDidChangePosition = new EventEmitter<void>();\r\n  public readonly onDidChangeSize = new EventEmitter<void>();\r\n  public readonly onDidChangeRotation = new EventEmitter<void>();\r\n\r\n  private x_: number = 0;\r\n  private y_: number = 0;\r\n  private z_: number = 0;\r\n  private w_: number = 100;\r\n  private h_: number = 50;\r\n  private r_: number = 0;\r\n  private rad_: number = 0;\r\n\r\n  private aspect_: boolean = true;\r\n  public get aspect() { return this.aspect_; }\r\n  public set aspect(v: boolean) {\r\n    this.aspect_ = v;\r\n    this.onDidChange.emit();\r\n  }\r\n  private aspectRatio_: number = 1;\r\n\r\n\r\n  public get x() { return this.x_; }\r\n  public set x(v: number) {\r\n    if (isNaN(v)) {\r\n      this.onDidChangePosition.emit();\r\n      this.onDidChange.emit();\r\n      return;\r\n    }\r\n    v = Math.round(v);\r\n    this.x_ = v;\r\n    this.onDidChangePosition.emit();\r\n    this.onDidChange.emit();\r\n  }\r\n  public get z() { return this.z_; }\r\n  public set z(v: number) {\r\n    if (isNaN(v)) {\r\n      this.onDidChangePosition.emit();\r\n      this.onDidChange.emit();\r\n      return;\r\n    }\r\n    this.z_ = v;\r\n    this.onDidChangePosition.emit();\r\n    this.onDidChange.emit();\r\n  }\r\n  public get y() { return this.y_; }\r\n  public set y(v: number) {\r\n    if (isNaN(v)) {\r\n      this.onDidChangePosition.emit();\r\n      this.onDidChange.emit();\r\n      return;\r\n    }\r\n    v = Math.round(v);\r\n    this.y_ = v;\r\n    this.onDidChangePosition.emit();\r\n    this.onDidChange.emit();\r\n  }\r\n  public get w() { return this.w_; }\r\n  public set w(v: number) {\r\n    if (isNaN(v)) {\r\n      this.onDidChangeSize.emit();\r\n      this.onDidChange.emit();\r\n      return;\r\n    }\r\n    v = Math.round(v);\r\n    this.w_ = v;\r\n    this.onDidChangeSize.emit();\r\n    this.onDidChange.emit();\r\n  }\r\n  public get h() { return this.h_; }\r\n  public set h(v: number) {\r\n    if (isNaN(v)) {\r\n      this.onDidChangeSize.emit();\r\n      this.onDidChange.emit();\r\n      return;\r\n    }\r\n    v = Math.round(v);\r\n    this.h_ = v;\r\n    this.onDidChangeSize.emit();\r\n    this.onDidChange.emit();\r\n  }\r\n  public get r() { return this.r_; }\r\n  public set r(v: number) {\r\n    if (isNaN(v)) {\r\n      this.onDidChangeRotation.emit();\r\n      this.onDidChange.emit();\r\n      return;\r\n    }\r\n    v = Math.round(v);\r\n    this.r_ = v;\r\n    this.rad_ = v / 180 * Math.PI;\r\n    this.onDidChangeRotation.emit();\r\n    this.onDidChange.emit();\r\n  }\r\n  public get rad() { return this.rad_; }\r\n\r\n  constructor() {\r\n  }\r\n\r\n}","import { Drawing } from 'src/app/model/drawing';\r\nimport { Movable } from 'src/app/model/movable';\r\nimport { Subscription } from 'rxjs';\r\nimport { ICommand } from 'src/app/model/command';\r\nimport { EventEmitter } from '@angular/core';\r\n\r\nexport class TextDrawingChangeTextCommand implements ICommand {\r\n  constructor(public readonly drawing: TextDrawing,\r\n    public readonly text: string) {}\r\n\r\n  public execute(): ICommand {\r\n    if (this.text === this.drawing.text) return;\r\n    const inverse = new TextDrawingChangeTextCommand(\r\n        this.drawing, this.drawing.text);\r\n    this.drawing.text = this.text;\r\n    return inverse;\r\n  }\r\n\r\n}\r\n\r\nexport class TextDrawingChangeSizeCommand implements ICommand {\r\n  constructor(public readonly drawing: TextDrawing,\r\n    public readonly size: number) {}\r\n\r\n  public execute(): ICommand {\r\n    if (this.size === this.drawing.size) return;\r\n    const inverse = new TextDrawingChangeSizeCommand(\r\n        this.drawing, this.drawing.size);\r\n    this.drawing.size = this.size;\r\n    return inverse;\r\n  }\r\n\r\n}\r\n\r\nexport class TextDrawingChangeColorCommand implements ICommand {\r\n  constructor(public readonly drawing: TextDrawing,\r\n    public readonly color: string) {}\r\n\r\n  public execute(): ICommand {\r\n    if (this.color === this.drawing.color) return;\r\n    const inverse = new TextDrawingChangeColorCommand(\r\n        this.drawing, this.drawing.color);\r\n    this.drawing.color = this.color;\r\n    return inverse;\r\n  }\r\n\r\n}\r\n\r\nexport class TextDrawingChangeFontCommand implements ICommand {\r\n  constructor(public readonly drawing: TextDrawing,\r\n    public readonly font: string) {}\r\n\r\n  public execute(): ICommand {\r\n    if (this.font === this.drawing.font) return;\r\n    const inverse = new TextDrawingChangeFontCommand(\r\n        this.drawing, this.drawing.font);\r\n    this.drawing.font = this.font;\r\n    return inverse;\r\n  }\r\n\r\n}\r\n\r\nclass TextMeasure {\r\n  private readonly cvs_ = document.createElement('canvas');\r\n  private readonly ctx_ = this.cvs_.getContext('2d');\r\n\r\n  public measure(font: string, size: number, text: string): TextMetrics {\r\n    this.ctx_.font = `${size}px ${font}`;\r\n    return this.ctx_.measureText(text);\r\n  }\r\n}\r\nconst Measure = new TextMeasure();\r\n\r\nexport class TextDrawing extends Drawing {\r\n\r\n  static readonly type = 'TextDrawing';\r\n\r\n  public readonly onDidChangeText = new EventEmitter<void>();\r\n\r\n  public readonly movable = new Movable();\r\n\r\n  private subs_: Subscription[] = [];\r\n\r\n  private disableDetectMovableChange_ = false;\r\n\r\n  private font_: string = 'Nanum Gothic';\r\n  public get font() { return this.font_; }\r\n  private size_: number;\r\n  public get size() { return this.size_; }\r\n  private text_: string;\r\n  public get text() { return this.text_; }\r\n  private color_: string = \"#000000\";\r\n  public get color() { return this.color_; }\r\n  public set color(v: string) {\r\n    this.color_ = v;\r\n    this.onDidChangeText.emit();\r\n  }\r\n  private scaleX_: number = 1;\r\n  public get scaleX() { return this.scaleX_; }\r\n  private scaleY_: number = 1;\r\n  public get scaleY() { return this.scaleY_; }\r\n\r\n  constructor(\r\n    font: string, size: number, text: string) {\r\n    super(TextDrawing.type, 'Text');\r\n    this.name = `Text ${this.id}`;\r\n    this.font_ = font;\r\n    this.size_ = size;\r\n    this.text = text;\r\n    this.subs_.push(this.movable.onDidChangeSize.subscribe(() => {\r\n      this.fitFontSizeToMovable();\r\n    }));\r\n  }\r\n\r\n  private fitFontSizeToMovable() {\r\n    if (this.disableDetectMovableChange_) return;\r\n    this.size_ = Math.round(this.movable.h / 1.5);\r\n    this.onDidChangeText.emit();\r\n  }\r\n  \r\n  public set font(v: string) {\r\n    this.font_ = v;\r\n    this.disableDetectMovableChange_ = true;\r\n    const metrics = Measure.measure(this.font, this.size, this.text);\r\n    this.movable.w = metrics.width * this.scaleX;\r\n    this.movable.h = this.size * this.scaleY * 1.5;\r\n    this.disableDetectMovableChange_ = false;\r\n    this.onDidChangeText.emit();\r\n  }\r\n\r\n  public set text(v: string) {\r\n    this.text_ = v;\r\n    const metrics = Measure.measure(this.font, this.size, this.text);\r\n    this.movable.w = metrics.width * this.scaleX;\r\n    this.movable.h = this.size * this.scaleY * 1.5;\r\n    this.onDidChangeText.emit();\r\n  }\r\n\r\n  public set size(v: number) {\r\n    if (isNaN(v)) {\r\n      this.onDidChangeText.emit();\r\n      return;\r\n    }\r\n    this.size_ = v;\r\n    this.disableDetectMovableChange_ = true;\r\n    const metrics = Measure.measure(this.font, this.size, this.text);\r\n    this.movable.w = metrics.width * this.scaleX;\r\n    this.movable.h = this.size * this.scaleY * 1.5;\r\n    this.disableDetectMovableChange_ = false;\r\n    this.onDidChangeText.emit();\r\n  }\r\n\r\n\r\n  // TODO : dispose\r\n\r\n}","import { Injectable } from '@angular/core';\r\nimport { Canvas } from 'src/app/model/canvas';\r\nimport { Subscription } from 'rxjs';\r\nimport { Drawing } from 'src/app/model/drawing';\r\n\r\n@Injectable()\r\nexport class CanvasService {\r\n\r\n  public readonly canvas: Canvas;\r\n\r\n  private subs_: Subscription[] = [];\r\n\r\n  private focusedDrawing_: Drawing;\r\n  public focusedDrawing() { return this.focusedDrawing_; }\r\n\r\n  constructor() {\r\n    this.canvas = new Canvas();\r\n  }\r\n\r\n}","import { ICommand } from 'src/app/model/command';\r\nimport { Canvas } from 'src/app/model/canvas';\r\nimport { InjectionToken, Injectable, OnDestroy } from '@angular/core';\r\n\r\nimport hotkeys from 'hotkeys-js';\r\nimport { KeybindingService, IKeybindingDisposer } from 'src/app/service/keybinding.service';\r\n\r\n// const hotkeys: any = require('hotkeys-js');\r\n\r\nexport interface ICommandService {\r\n\r\n  dispatch(command: ICommand): void;\r\n\r\n}\r\n\r\n@Injectable()\r\nexport class CanvasCommandService implements ICommandService {\r\n\r\n  public canvas: Canvas;\r\n\r\n  public dispatch(command: ICommand) {\r\n    (command as any).canvas = this.canvas;\r\n    this.canvas.pushCommand(command);\r\n  }\r\n\r\n}\r\n\r\nexport const ICommandService =\r\n    new InjectionToken<ICommandService>('CommandService');","import { Injectable } from '@angular/core';\r\nimport hotkeys from 'hotkeys-js';\r\nimport { isMacintosh } from 'src/app/util/platform';\r\n\r\nexport interface IKeybinding {\r\n  keychord: string;\r\n  mac?: string;\r\n}\r\n\r\nexport interface IKeybindingDisposer {\r\n  (): void;\r\n}\r\n\r\n@Injectable()\r\nexport class KeybindingService {\r\n\r\n  public bind(binding: IKeybinding, func: ()=>void): IKeybindingDisposer {\r\n    let keychord = binding.keychord;\r\n    if (isMacintosh) {\r\n      keychord = binding.mac || keychord;\r\n    }\r\n    const disposer = () => {\r\n      hotkeys.unbind(keychord, func);\r\n    }\r\n    hotkeys(keychord, func);\r\n    return disposer;\r\n  }\r\n\r\n}","export const epsilon = 0.00001\n","declare const _grayScale: any;\r\ndeclare const _boxFilter: any;\r\ndeclare const _mixWithColor: any;\r\ndeclare const _malloc: any;\r\ndeclare const _free: any;\r\ndeclare const HEAPU8: any;\r\n\r\nexport class ImageFilter {\r\n\r\n  public static enabled = false;\r\n\r\n  public static init() {\r\n    if (!(\"WebAssembly\" in window)) {\r\n      ImageFilter.enabled = false;\r\n      alert('Your browser does not support Webassembly!\\nImage filter will not work.')\r\n    }\r\n    else {\r\n      ImageFilter.enabled = true;\r\n    }\r\n  }\r\n\r\n  public static grayScale(ctx: CanvasRenderingContext2D) {\r\n    if (!ImageFilter.enabled) return;\r\n    const cvs = ctx.canvas;\r\n    const pixels = ctx.getImageData(0, 0, cvs.width, cvs.height).data;\r\n    const length = pixels.length;\r\n    const memory = _malloc(length);\r\n    HEAPU8.set(pixels, memory);\r\n    _grayScale(memory, cvs.width, cvs.height);\r\n    const result = HEAPU8.subarray(memory, memory + length);\r\n    ctx.putImageData(new ImageData(new Uint8ClampedArray(result), cvs.width, cvs.height), 0, 0);\r\n    _free(memory);\r\n  }\r\n\r\n  public static boxFilter(ctx: CanvasRenderingContext2D,\r\n    filter: [number,number,number,number,number,number,number,number,number]) {\r\n    if (!ImageFilter.enabled) return;\r\n    const cvs = ctx.canvas;\r\n    const pixels = ctx.getImageData(0, 0, cvs.width, cvs.height).data;\r\n    const length = pixels.length;\r\n    const memory = _malloc(length);\r\n    HEAPU8.set(pixels, memory);\r\n    _boxFilter(memory, cvs.width, cvs.height, ...filter);\r\n    const result = HEAPU8.subarray(memory, memory + length);\r\n    ctx.putImageData(new ImageData(new Uint8ClampedArray(result), cvs.width, cvs.height), 0, 0);\r\n    _free(memory);\r\n  }\r\n\r\n  public static mixWithColor(ctx: CanvasRenderingContext2D,\r\n    r: number, g: number, b: number, opacity: number) {\r\n    if (!ImageFilter.enabled) return;\r\n    const cvs = ctx.canvas;\r\n    const pixels = ctx.getImageData(0, 0, cvs.width, cvs.height).data;\r\n    const length = pixels.length;\r\n    const memory = _malloc(length);\r\n    HEAPU8.set(pixels, memory);\r\n    _mixWithColor(memory, cvs.width, cvs.height, r, g, b, opacity);\r\n    const result = HEAPU8.subarray(memory, memory + length);\r\n    ctx.putImageData(new ImageData(new Uint8ClampedArray(result), cvs.width, cvs.height), 0, 0);\r\n    _free(memory);\r\n  }\r\n\r\n}","import vec2 from './vec2'\n\nimport { epsilon } from './constants'\nimport { single } from 'rxjs/operators'\n\nexport default class mat2 {\n\n    constructor(values?: number[]) {\n        if (values !== undefined) {\n            this.init(values)\n        }\n    }\n\n    private values = new Float32Array(4)\n\n    static readonly identity = new mat2().setIdentity()\n\n    static rotation(angle: number): mat2 {\n        const cos = Math.cos(angle);\n        const sin = Math.sin(angle);\n        return new mat2([cos, -sin, sin, cos]);\n    }\n\n    at(index: number): number {\n        return this.values[index]\n    }\n\n    init(values: number[]): mat2 {\n        for (let i = 0; i < 4; i++) {\n            this.values[i] = values[i]\n        }\n\n        return this\n    }\n\n    reset(): void {\n        for (let i = 0; i < 4; i++) {\n            this.values[i] = 0\n        }\n    }\n\n    copy(dest?: mat2): mat2 {\n        if (!dest) { dest = new mat2() }\n\n        for (let i = 0; i < 4; i++) {\n            dest.values[i] = this.values[i]\n        }\n\n        return dest\n    }\n\n    all(): number[] {\n        const data: number[] = []\n        for (let i = 0; i < 4; i++) {\n            data[i] = this.values[i]\n        }\n\n        return data\n    }\n\n    row(index: number): number[] {\n        return [\n            this.values[index * 2 + 0],\n            this.values[index * 2 + 1],\n        ]\n    }\n\n    col(index: number): number[] {\n        return [\n            this.values[index],\n            this.values[index + 2],\n        ]\n    }\n\n    equals(matrix: mat2, threshold = epsilon): boolean {\n        for (let i = 0; i < 4; i++) {\n            if (Math.abs(this.values[i] - matrix.at(i)) > threshold) {\n                return false\n            }\n        }\n\n        return true\n    }\n\n    determinant(): number {\n        return this.values[0] * this.values[3] - this.values[2] * this.values[1]\n    }\n\n    setIdentity(): mat2 {\n        this.values[0] = 1\n        this.values[1] = 0\n        this.values[2] = 0\n        this.values[3] = 1\n\n        return this\n    }\n\n    transpose(): mat2 {\n        const temp = this.values[1]\n\n        this.values[1] = this.values[2]\n        this.values[2] = temp\n\n        return this\n    }\n\n    inverse(): mat2 {\n        let det = this.determinant()\n\n        if (!det) { return null }\n\n        det = 1.0 / det\n\n        const a11 = this.values[0]\n\n        this.values[0] = det * (this.values[3])\n        this.values[1] = det * (-this.values[1])\n        this.values[2] = det * (-this.values[2])\n        this.values[3] = det * a11\n\n        return this\n    }\n\n    multiply(matrix: mat2): mat2 {\n        const a11 = this.values[0]\n        const a12 = this.values[1]\n        const a21 = this.values[2]\n        const a22 = this.values[3]\n\n        this.values[0] = a11 * matrix.at(0) + a12 * matrix.at(2)\n        this.values[1] = a11 * matrix.at(1) + a12 * matrix.at(3)\n        this.values[2] = a21 * matrix.at(0) + a22 * matrix.at(2)\n        this.values[3] = a21 * matrix.at(1) + a22 * matrix.at(3)\n\n        return this\n    }\n\n    multiplyVec2(vector: vec2, result: vec2): vec2 {\n        const x = vector.x\n        const y = vector.y\n\n        if (result) {\n            result.xy = [\n                x * this.values[0] + y * this.values[1],\n                x * this.values[2] + y * this.values[3],\n            ]\n\n            return result\n        } else {\n            return new vec2([\n                x * this.values[0] + y * this.values[1],\n                x * this.values[2] + y * this.values[3],\n            ])\n        }\n    }\n\n    scale(vector: vec2): mat2 {\n        const a11 = this.values[0]\n        const a12 = this.values[1]\n        const a21 = this.values[2]\n        const a22 = this.values[3]\n\n        const x = vector.x\n        const y = vector.y\n\n        this.values[0] = a11 * x\n        this.values[1] = a12 * y\n        this.values[2] = a21 * x\n        this.values[3] = a22 * y\n\n        return this\n    }\n\n    static product(m1: mat2, m2: mat2, result: mat2): mat2 {\n        const a11 = m1.at(0)\n        const a12 = m1.at(1)\n        const a21 = m1.at(2)\n        const a22 = m1.at(3)\n\n        if (result) {\n            result.init([\n                a11 * m2.at(0) + a12 * m2.at(2),\n                a11 * m2.at(1) + a12 * m2.at(3),\n                a21 * m2.at(0) + a22 * m2.at(2),\n                a21 * m2.at(1) + a22 * m2.at(3),\n            ])\n\n            return result\n        } else {\n            return new mat2([\n                a11 * m2.at(0) + a12 * m2.at(2),\n                a11 * m2.at(1) + a12 * m2.at(3),\n                a21 * m2.at(0) + a22 * m2.at(2),\n                a21 * m2.at(1) + a22 * m2.at(3),\n            ])\n        }\n    }\n\n}\n","import mat4 from './mat4'\nimport quat from './quat'\nimport vec2 from './vec2'\nimport vec3 from './vec3'\n\nimport { epsilon } from './constants'\n\nexport default class mat3 {\n\n    constructor(values?: number[]) {\n        if (values !== undefined) {\n            this.init(values)\n        }\n    }\n\n    private values = new Float32Array(9)\n\n    static readonly identity = new mat3().setIdentity()\n\n    at(index: number): number {\n        return this.values[index]\n    }\n\n    init(values: number[]): mat3 {\n        for (let i = 0; i < 9; i++) {\n            this.values[i] = values[i]\n        }\n\n        return this\n    }\n\n    reset(): void {\n        for (let i = 0; i < 9; i++) {\n            this.values[i] = 0\n        }\n    }\n\n    copy(dest?: mat3): mat3 {\n        if (!dest) { dest = new mat3() }\n\n        for (let i = 0; i < 9; i++) {\n            dest.values[i] = this.values[i]\n        }\n\n        return dest\n    }\n\n    all(): number[] {\n        const data: number[] = []\n        for (let i = 0; i < 9; i++) {\n            data[i] = this.values[i]\n        }\n\n        return data\n    }\n\n    row(index: number): number[] {\n        return [\n            this.values[index * 3 + 0],\n            this.values[index * 3 + 1],\n            this.values[index * 3 + 2],\n        ]\n    }\n\n    col(index: number): number[] {\n        return [\n            this.values[index],\n            this.values[index + 3],\n            this.values[index + 6],\n        ]\n    }\n\n    equals(matrix: mat3, threshold = epsilon): boolean {\n        for (let i = 0; i < 9; i++) {\n            if (Math.abs(this.values[i] - matrix.at(i)) > threshold) {\n                return false\n            }\n        }\n\n        return true\n    }\n\n    determinant(): number {\n        const a00 = this.values[0]\n        const a01 = this.values[1]\n        const a02 = this.values[2]\n        const a10 = this.values[3]\n        const a11 = this.values[4]\n        const a12 = this.values[5]\n        const a20 = this.values[6]\n        const a21 = this.values[7]\n        const a22 = this.values[8]\n\n        const det01 = a22 * a11 - a12 * a21\n        const det11 = -a22 * a10 + a12 * a20\n        const det21 = a21 * a10 - a11 * a20\n\n        return a00 * det01 + a01 * det11 + a02 * det21\n    }\n\n    setIdentity(): mat3 {\n        this.values[0] = 1\n        this.values[1] = 0\n        this.values[2] = 0\n        this.values[3] = 0\n        this.values[4] = 1\n        this.values[5] = 0\n        this.values[6] = 0\n        this.values[7] = 0\n        this.values[8] = 1\n\n        return this\n    }\n\n    transpose(): mat3 {\n        const temp01 = this.values[1]\n        const temp02 = this.values[2]\n        const temp12 = this.values[5]\n\n        this.values[1] = this.values[3]\n        this.values[2] = this.values[6]\n        this.values[3] = temp01\n        this.values[5] = this.values[7]\n        this.values[6] = temp02\n        this.values[7] = temp12\n\n        return this\n    }\n\n    inverse(): mat3 {\n        const a00 = this.values[0]\n        const a01 = this.values[1]\n        const a02 = this.values[2]\n        const a10 = this.values[3]\n        const a11 = this.values[4]\n        const a12 = this.values[5]\n        const a20 = this.values[6]\n        const a21 = this.values[7]\n        const a22 = this.values[8]\n\n        const det01 = a22 * a11 - a12 * a21\n        const det11 = -a22 * a10 + a12 * a20\n        const det21 = a21 * a10 - a11 * a20\n\n        let det = a00 * det01 + a01 * det11 + a02 * det21\n\n        if (!det) {\n            return null\n        }\n\n        det = 1.0 / det\n\n        this.values[0] = det01 * det\n        this.values[1] = (-a22 * a01 + a02 * a21) * det\n        this.values[2] = (a12 * a01 - a02 * a11) * det\n        this.values[3] = det11 * det\n        this.values[4] = (a22 * a00 - a02 * a20) * det\n        this.values[5] = (-a12 * a00 + a02 * a10) * det\n        this.values[6] = det21 * det\n        this.values[7] = (-a21 * a00 + a01 * a20) * det\n        this.values[8] = (a11 * a00 - a01 * a10) * det\n\n        return this\n    }\n\n    multiply(matrix: mat3): mat3 {\n        const a00 = this.values[0]\n        const a01 = this.values[1]\n        const a02 = this.values[2]\n        const a10 = this.values[3]\n        const a11 = this.values[4]\n        const a12 = this.values[5]\n        const a20 = this.values[6]\n        const a21 = this.values[7]\n        const a22 = this.values[8]\n\n        const b00 = matrix.at(0)\n        const b01 = matrix.at(1)\n        const b02 = matrix.at(2)\n        const b10 = matrix.at(3)\n        const b11 = matrix.at(4)\n        const b12 = matrix.at(5)\n        const b20 = matrix.at(6)\n        const b21 = matrix.at(7)\n        const b22 = matrix.at(8)\n\n        this.values[0] = b00 * a00 + b01 * a10 + b02 * a20\n        this.values[1] = b00 * a01 + b01 * a11 + b02 * a21\n        this.values[2] = b00 * a02 + b01 * a12 + b02 * a22\n\n        this.values[3] = b10 * a00 + b11 * a10 + b12 * a20\n        this.values[4] = b10 * a01 + b11 * a11 + b12 * a21\n        this.values[5] = b10 * a02 + b11 * a12 + b12 * a22\n\n        this.values[6] = b20 * a00 + b21 * a10 + b22 * a20\n        this.values[7] = b20 * a01 + b21 * a11 + b22 * a21\n        this.values[8] = b20 * a02 + b21 * a12 + b22 * a22\n\n        return this\n    }\n\n    multiplyVec2(vector: vec2, result: vec2): vec2 {\n        const x = vector.x\n        const y = vector.y\n\n        if (result) {\n            result.xy = [\n                x * this.values[0] + y * this.values[3] + this.values[6],\n                x * this.values[1] + y * this.values[4] + this.values[7],\n            ]\n\n            return result\n        } else {\n            return new vec2([\n                x * this.values[0] + y * this.values[3] + this.values[6],\n                x * this.values[1] + y * this.values[4] + this.values[7],\n            ])\n        }\n    }\n\n    multiplyVec3(vector: vec3, result: vec3): vec3 {\n        const x = vector.x\n        const y = vector.y\n        const z = vector.z\n\n        if (result) {\n            result.xyz = [\n                x * this.values[0] + y * this.values[3] + z * this.values[6],\n                x * this.values[1] + y * this.values[4] + z * this.values[7],\n                x * this.values[2] + y * this.values[5] + z * this.values[8],\n            ]\n\n            return result\n        } else {\n            return new vec3([\n                x * this.values[0] + y * this.values[3] + z * this.values[6],\n                x * this.values[1] + y * this.values[4] + z * this.values[7],\n                x * this.values[2] + y * this.values[5] + z * this.values[8],\n            ])\n        }\n    }\n\n    toMat4(result: mat4): mat4 {\n        if (result) {\n            result.init([\n                this.values[0],\n                this.values[1],\n                this.values[2],\n                0,\n\n                this.values[3],\n                this.values[4],\n                this.values[5],\n                0,\n\n                this.values[6],\n                this.values[7],\n                this.values[8],\n                0,\n\n                0,\n                0,\n                0,\n                1,\n            ])\n\n            return result\n        } else {\n            return new mat4([\n                this.values[0],\n                this.values[1],\n                this.values[2],\n                0,\n\n                this.values[3],\n                this.values[4],\n                this.values[5],\n                0,\n\n                this.values[6],\n                this.values[7],\n                this.values[8],\n                0,\n\n                0,\n                0,\n                0,\n                1,\n            ])\n        }\n    }\n\n    toQuat(): quat {\n        const m00 = this.values[0]\n        const m01 = this.values[1]\n        const m02 = this.values[2]\n        const m10 = this.values[3]\n        const m11 = this.values[4]\n        const m12 = this.values[5]\n        const m20 = this.values[6]\n        const m21 = this.values[7]\n        const m22 = this.values[8]\n\n        const fourXSquaredMinus1 = m00 - m11 - m22\n        const fourYSquaredMinus1 = m11 - m00 - m22\n        const fourZSquaredMinus1 = m22 - m00 - m11\n        const fourWSquaredMinus1 = m00 + m11 + m22\n\n        let biggestIndex = 0\n\n        let fourBiggestSquaredMinus1 = fourWSquaredMinus1\n\n        if (fourXSquaredMinus1 > fourBiggestSquaredMinus1) {\n            fourBiggestSquaredMinus1 = fourXSquaredMinus1\n            biggestIndex = 1\n        }\n\n        if (fourYSquaredMinus1 > fourBiggestSquaredMinus1) {\n            fourBiggestSquaredMinus1 = fourYSquaredMinus1\n            biggestIndex = 2\n        }\n\n        if (fourZSquaredMinus1 > fourBiggestSquaredMinus1) {\n            fourBiggestSquaredMinus1 = fourZSquaredMinus1\n            biggestIndex = 3\n        }\n\n        const biggestVal = Math.sqrt(fourBiggestSquaredMinus1 + 1) * 0.5\n        const mult = 0.25 / biggestVal\n\n        const result = new quat()\n\n        switch (biggestIndex) {\n            case 0:\n\n                result.w = biggestVal\n                result.x = (m12 - m21) * mult\n                result.y = (m20 - m02) * mult\n                result.z = (m01 - m10) * mult\n\n                break\n\n            case 1:\n\n                result.w = (m12 - m21) * mult\n                result.x = biggestVal\n                result.y = (m01 + m10) * mult\n                result.z = (m20 + m02) * mult\n\n                break\n\n            case 2:\n\n                result.w = (m20 - m02) * mult\n                result.x = (m01 + m10) * mult\n                result.y = biggestVal\n                result.z = (m12 + m21) * mult\n\n                break\n\n            case 3:\n\n                result.w = (m01 - m10) * mult\n                result.x = (m20 + m02) * mult\n                result.y = (m12 + m21) * mult\n                result.z = biggestVal\n\n                break\n        }\n\n        return result\n    }\n\n    rotate(angle: number, axis: vec3): mat3 {\n        let x = axis.x\n        let y = axis.y\n        let z = axis.z\n\n        let length = Math.sqrt(x * x + y * y + z * z)\n\n        if (!length) {\n            return null\n        }\n\n        if (length !== 1) {\n            length = 1 / length\n            x *= length\n            y *= length\n            z *= length\n        }\n\n        const s = Math.sin(angle)\n        const c = Math.cos(angle)\n\n        const t = 1.0 - c\n\n        const a00 = this.values[0]\n        const a01 = this.values[1]\n        const a02 = this.values[2]\n        const a10 = this.values[4]\n        const a11 = this.values[5]\n        const a12 = this.values[6]\n        const a20 = this.values[8]\n        const a21 = this.values[9]\n        const a22 = this.values[10]\n\n        const b00 = x * x * t + c\n        const b01 = y * x * t + z * s\n        const b02 = z * x * t - y * s\n        const b10 = x * y * t - z * s\n        const b11 = y * y * t + c\n        const b12 = z * y * t + x * s\n        const b20 = x * z * t + y * s\n        const b21 = y * z * t - x * s\n        const b22 = z * z * t + c\n\n        this.values[0] = a00 * b00 + a10 * b01 + a20 * b02\n        this.values[1] = a01 * b00 + a11 * b01 + a21 * b02\n        this.values[2] = a02 * b00 + a12 * b01 + a22 * b02\n\n        this.values[3] = a00 * b10 + a10 * b11 + a20 * b12\n        this.values[4] = a01 * b10 + a11 * b11 + a21 * b12\n        this.values[5] = a02 * b10 + a12 * b11 + a22 * b12\n\n        this.values[6] = a00 * b20 + a10 * b21 + a20 * b22\n        this.values[7] = a01 * b20 + a11 * b21 + a21 * b22\n        this.values[8] = a02 * b20 + a12 * b21 + a22 * b22\n\n        return this\n    }\n\n    static product(m1: mat3, m2: mat3, result: mat3): mat3 {\n        const a00 = m1.at(0)\n        const a01 = m1.at(1)\n        const a02 = m1.at(2)\n        const a10 = m1.at(3)\n        const a11 = m1.at(4)\n        const a12 = m1.at(5)\n        const a20 = m1.at(6)\n        const a21 = m1.at(7)\n        const a22 = m1.at(8)\n\n        const b00 = m2.at(0)\n        const b01 = m2.at(1)\n        const b02 = m2.at(2)\n        const b10 = m2.at(3)\n        const b11 = m2.at(4)\n        const b12 = m2.at(5)\n        const b20 = m2.at(6)\n        const b21 = m2.at(7)\n        const b22 = m2.at(8)\n\n        if (result) {\n            result.init([\n                b00 * a00 + b01 * a10 + b02 * a20,\n                b00 * a01 + b01 * a11 + b02 * a21,\n                b00 * a02 + b01 * a12 + b02 * a22,\n\n                b10 * a00 + b11 * a10 + b12 * a20,\n                b10 * a01 + b11 * a11 + b12 * a21,\n                b10 * a02 + b11 * a12 + b12 * a22,\n\n                b20 * a00 + b21 * a10 + b22 * a20,\n                b20 * a01 + b21 * a11 + b22 * a21,\n                b20 * a02 + b21 * a12 + b22 * a22,\n            ])\n\n            return result\n        } else {\n            return new mat3([\n                b00 * a00 + b01 * a10 + b02 * a20,\n                b00 * a01 + b01 * a11 + b02 * a21,\n                b00 * a02 + b01 * a12 + b02 * a22,\n\n                b10 * a00 + b11 * a10 + b12 * a20,\n                b10 * a01 + b11 * a11 + b12 * a21,\n                b10 * a02 + b11 * a12 + b12 * a22,\n\n                b20 * a00 + b21 * a10 + b22 * a20,\n                b20 * a01 + b21 * a11 + b22 * a21,\n                b20 * a02 + b21 * a12 + b22 * a22,\n            ])\n        }\n    }\n\n}\n","import mat3 from './mat3'\nimport vec3 from './vec3'\nimport vec4 from './vec4'\n\nimport { epsilon } from './constants'\n\nexport default class mat4 {\n\n    constructor(values?: number[]) {\n        if (values !== undefined) {\n            this.init(values)\n        }\n    }\n\n    private values = new Float32Array(16)\n\n    static readonly identity = new mat4().setIdentity()\n\n    at(index: number): number {\n        return this.values[index]\n    }\n\n    init(values: number[]): mat4 {\n        for (let i = 0; i < 16; i++) {\n            this.values[i] = values[i]\n        }\n\n        return this\n    }\n\n    reset(): void {\n        for (let i = 0; i < 16; i++) {\n            this.values[i] = 0\n        }\n    }\n\n    copy(dest?: mat4): mat4 {\n        if (!dest) { dest = new mat4() }\n\n        for (let i = 0; i < 16; i++) {\n            dest.values[i] = this.values[i]\n        }\n\n        return dest\n    }\n\n    all(): number[] {\n        const data: number[] = []\n        for (let i = 0; i < 16; i++) {\n            data[i] = this.values[i]\n        }\n\n        return data\n    }\n\n    row(index: number): number[] {\n        return [\n            this.values[index * 4 + 0],\n            this.values[index * 4 + 1],\n            this.values[index * 4 + 2],\n            this.values[index * 4 + 3],\n        ]\n    }\n\n    col(index: number): number[] {\n        return [\n            this.values[index],\n            this.values[index + 4],\n            this.values[index + 8],\n            this.values[index + 12],\n        ]\n    }\n\n    equals(matrix: mat4, threshold = epsilon): boolean {\n        for (let i = 0; i < 16; i++) {\n            if (Math.abs(this.values[i] - matrix.at(i)) > threshold) {\n                return false\n            }\n        }\n\n        return true\n    }\n\n    determinant(): number {\n        const a00 = this.values[0]\n        const a01 = this.values[1]\n        const a02 = this.values[2]\n        const a03 = this.values[3]\n        const a10 = this.values[4]\n        const a11 = this.values[5]\n        const a12 = this.values[6]\n        const a13 = this.values[7]\n        const a20 = this.values[8]\n        const a21 = this.values[9]\n        const a22 = this.values[10]\n        const a23 = this.values[11]\n        const a30 = this.values[12]\n        const a31 = this.values[13]\n        const a32 = this.values[14]\n        const a33 = this.values[15]\n\n        const det00 = a00 * a11 - a01 * a10\n        const det01 = a00 * a12 - a02 * a10\n        const det02 = a00 * a13 - a03 * a10\n        const det03 = a01 * a12 - a02 * a11\n        const det04 = a01 * a13 - a03 * a11\n        const det05 = a02 * a13 - a03 * a12\n        const det06 = a20 * a31 - a21 * a30\n        const det07 = a20 * a32 - a22 * a30\n        const det08 = a20 * a33 - a23 * a30\n        const det09 = a21 * a32 - a22 * a31\n        const det10 = a21 * a33 - a23 * a31\n        const det11 = a22 * a33 - a23 * a32\n\n        return (det00 * det11 - det01 * det10 + det02 * det09 + det03 * det08 - det04 * det07 + det05 * det06)\n    }\n\n    setIdentity(): mat4 {\n        this.values[0] = 1\n        this.values[1] = 0\n        this.values[2] = 0\n        this.values[3] = 0\n        this.values[4] = 0\n        this.values[5] = 1\n        this.values[6] = 0\n        this.values[7] = 0\n        this.values[8] = 0\n        this.values[9] = 0\n        this.values[10] = 1\n        this.values[11] = 0\n        this.values[12] = 0\n        this.values[13] = 0\n        this.values[14] = 0\n        this.values[15] = 1\n\n        return this\n    }\n\n    transpose(): mat4 {\n        const temp01 = this.values[1]\n        const temp02 = this.values[2]\n        const temp03 = this.values[3]\n        const temp12 = this.values[6]\n        const temp13 = this.values[7]\n        const temp23 = this.values[11]\n\n        this.values[1] = this.values[4]\n        this.values[2] = this.values[8]\n        this.values[3] = this.values[12]\n        this.values[4] = temp01\n        this.values[6] = this.values[9]\n        this.values[7] = this.values[13]\n        this.values[8] = temp02\n        this.values[9] = temp12\n        this.values[11] = this.values[14]\n        this.values[12] = temp03\n        this.values[13] = temp13\n        this.values[14] = temp23\n\n        return this\n    }\n\n    inverse(): mat4 {\n        const a00 = this.values[0]\n        const a01 = this.values[1]\n        const a02 = this.values[2]\n        const a03 = this.values[3]\n        const a10 = this.values[4]\n        const a11 = this.values[5]\n        const a12 = this.values[6]\n        const a13 = this.values[7]\n        const a20 = this.values[8]\n        const a21 = this.values[9]\n        const a22 = this.values[10]\n        const a23 = this.values[11]\n        const a30 = this.values[12]\n        const a31 = this.values[13]\n        const a32 = this.values[14]\n        const a33 = this.values[15]\n\n        const det00 = a00 * a11 - a01 * a10\n        const det01 = a00 * a12 - a02 * a10\n        const det02 = a00 * a13 - a03 * a10\n        const det03 = a01 * a12 - a02 * a11\n        const det04 = a01 * a13 - a03 * a11\n        const det05 = a02 * a13 - a03 * a12\n        const det06 = a20 * a31 - a21 * a30\n        const det07 = a20 * a32 - a22 * a30\n        const det08 = a20 * a33 - a23 * a30\n        const det09 = a21 * a32 - a22 * a31\n        const det10 = a21 * a33 - a23 * a31\n        const det11 = a22 * a33 - a23 * a32\n\n        let det = (det00 * det11 - det01 * det10 + det02 * det09 + det03 * det08 - det04 * det07 + det05 * det06)\n\n        if (!det) {\n            return null\n        }\n\n        det = 1.0 / det\n\n        this.values[0] = (a11 * det11 - a12 * det10 + a13 * det09) * det\n        this.values[1] = (-a01 * det11 + a02 * det10 - a03 * det09) * det\n        this.values[2] = (a31 * det05 - a32 * det04 + a33 * det03) * det\n        this.values[3] = (-a21 * det05 + a22 * det04 - a23 * det03) * det\n        this.values[4] = (-a10 * det11 + a12 * det08 - a13 * det07) * det\n        this.values[5] = (a00 * det11 - a02 * det08 + a03 * det07) * det\n        this.values[6] = (-a30 * det05 + a32 * det02 - a33 * det01) * det\n        this.values[7] = (a20 * det05 - a22 * det02 + a23 * det01) * det\n        this.values[8] = (a10 * det10 - a11 * det08 + a13 * det06) * det\n        this.values[9] = (-a00 * det10 + a01 * det08 - a03 * det06) * det\n        this.values[10] = (a30 * det04 - a31 * det02 + a33 * det00) * det\n        this.values[11] = (-a20 * det04 + a21 * det02 - a23 * det00) * det\n        this.values[12] = (-a10 * det09 + a11 * det07 - a12 * det06) * det\n        this.values[13] = (a00 * det09 - a01 * det07 + a02 * det06) * det\n        this.values[14] = (-a30 * det03 + a31 * det01 - a32 * det00) * det\n        this.values[15] = (a20 * det03 - a21 * det01 + a22 * det00) * det\n\n        return this\n    }\n\n    multiply(matrix: mat4): mat4 {\n        const a00 = this.values[0]\n        const a01 = this.values[1]\n        const a02 = this.values[2]\n        const a03 = this.values[3]\n        const a10 = this.values[4]\n        const a11 = this.values[5]\n        const a12 = this.values[6]\n        const a13 = this.values[7]\n        const a20 = this.values[8]\n        const a21 = this.values[9]\n        const a22 = this.values[10]\n        const a23 = this.values[11]\n        const a30 = this.values[12]\n        const a31 = this.values[13]\n        const a32 = this.values[14]\n        const a33 = this.values[15]\n\n        let b0 = matrix.at(0)\n        let b1 = matrix.at(1)\n        let b2 = matrix.at(2)\n        let b3 = matrix.at(3)\n\n        this.values[0] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30\n        this.values[1] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31\n        this.values[2] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32\n        this.values[3] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33\n\n        b0 = matrix.at(4)\n        b1 = matrix.at(5)\n        b2 = matrix.at(6)\n        b3 = matrix.at(7)\n\n        this.values[4] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30\n        this.values[5] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31\n        this.values[6] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32\n        this.values[7] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33\n\n        b0 = matrix.at(8)\n        b1 = matrix.at(9)\n        b2 = matrix.at(10)\n        b3 = matrix.at(11)\n\n        this.values[8] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30\n        this.values[9] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31\n        this.values[10] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32\n        this.values[11] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33\n\n        b0 = matrix.at(12)\n        b1 = matrix.at(13)\n        b2 = matrix.at(14)\n        b3 = matrix.at(15)\n\n        this.values[12] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30\n        this.values[13] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31\n        this.values[14] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32\n        this.values[15] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33\n\n        return this\n    }\n\n    multiplyVec3(vector: vec3): vec3 {\n        const x = vector.x\n        const y = vector.y\n        const z = vector.z\n\n        return new vec3([\n            this.values[0] * x + this.values[4] * y + this.values[8] * z + this.values[12],\n            this.values[1] * x + this.values[5] * y + this.values[9] * z + this.values[13],\n            this.values[2] * x + this.values[6] * y + this.values[10] * z + this.values[14],\n        ])\n    }\n\n    multiplyVec4(vector: vec4, dest?: vec4): vec4 {\n        if (!dest) { dest = new vec4() }\n\n        const x = vector.x\n        const y = vector.y\n        const z = vector.z\n        const w = vector.w\n\n        dest.x = this.values[0] * x + this.values[4] * y + this.values[8] * z + this.values[12] * w\n        dest.y = this.values[1] * x + this.values[5] * y + this.values[9] * z + this.values[13] * w\n        dest.z = this.values[2] * x + this.values[6] * y + this.values[10] * z + this.values[14] * w\n        dest.w = this.values[3] * x + this.values[7] * y + this.values[11] * z + this.values[15] * w\n\n        return dest\n    }\n\n    toMat3(): mat3 {\n        return new mat3([\n            this.values[0],\n            this.values[1],\n            this.values[2],\n            this.values[4],\n            this.values[5],\n            this.values[6],\n            this.values[8],\n            this.values[9],\n            this.values[10],\n        ])\n    }\n\n    toInverseMat3(): mat3 {\n        const a00 = this.values[0]\n        const a01 = this.values[1]\n        const a02 = this.values[2]\n        const a10 = this.values[4]\n        const a11 = this.values[5]\n        const a12 = this.values[6]\n        const a20 = this.values[8]\n        const a21 = this.values[9]\n        const a22 = this.values[10]\n\n        const det01 = a22 * a11 - a12 * a21\n        const det11 = -a22 * a10 + a12 * a20\n        const det21 = a21 * a10 - a11 * a20\n\n        let det = a00 * det01 + a01 * det11 + a02 * det21\n\n        if (!det) {\n            return null\n        }\n\n        det = 1.0 / det\n\n        return new mat3([\n            det01 * det,\n            (-a22 * a01 + a02 * a21) * det,\n            (a12 * a01 - a02 * a11) * det,\n            det11 * det,\n            (a22 * a00 - a02 * a20) * det,\n            (-a12 * a00 + a02 * a10) * det,\n            det21 * det,\n            (-a21 * a00 + a01 * a20) * det,\n            (a11 * a00 - a01 * a10) * det,\n        ])\n    }\n\n    translate(vector: vec3): mat4 {\n        const x = vector.x\n        const y = vector.y\n        const z = vector.z\n\n        this.values[12] += this.values[0] * x + this.values[4] * y + this.values[8] * z\n        this.values[13] += this.values[1] * x + this.values[5] * y + this.values[9] * z\n        this.values[14] += this.values[2] * x + this.values[6] * y + this.values[10] * z\n        this.values[15] += this.values[3] * x + this.values[7] * y + this.values[11] * z\n\n        return this\n    }\n\n    scale(vector: vec3): mat4 {\n        const x = vector.x\n        const y = vector.y\n        const z = vector.z\n\n        this.values[0] *= x\n        this.values[1] *= x\n        this.values[2] *= x\n        this.values[3] *= x\n\n        this.values[4] *= y\n        this.values[5] *= y\n        this.values[6] *= y\n        this.values[7] *= y\n\n        this.values[8] *= z\n        this.values[9] *= z\n        this.values[10] *= z\n        this.values[11] *= z\n\n        return this\n    }\n\n    rotate(angle: number, axis: vec3): mat4 {\n        let x = axis.x\n        let y = axis.y\n        let z = axis.z\n\n        let length = Math.sqrt(x * x + y * y + z * z)\n\n        if (!length) {\n            return null\n        }\n\n        if (length !== 1) {\n            length = 1 / length\n            x *= length\n            y *= length\n            z *= length\n        }\n\n        const s = Math.sin(angle)\n        const c = Math.cos(angle)\n\n        const t = 1.0 - c\n\n        const a00 = this.values[0]\n        const a01 = this.values[1]\n        const a02 = this.values[2]\n        const a03 = this.values[3]\n\n        const a10 = this.values[4]\n        const a11 = this.values[5]\n        const a12 = this.values[6]\n        const a13 = this.values[7]\n\n        const a20 = this.values[8]\n        const a21 = this.values[9]\n        const a22 = this.values[10]\n        const a23 = this.values[11]\n\n        const b00 = x * x * t + c\n        const b01 = y * x * t + z * s\n        const b02 = z * x * t - y * s\n\n        const b10 = x * y * t - z * s\n        const b11 = y * y * t + c\n        const b12 = z * y * t + x * s\n\n        const b20 = x * z * t + y * s\n        const b21 = y * z * t - x * s\n        const b22 = z * z * t + c\n\n        this.values[0] = a00 * b00 + a10 * b01 + a20 * b02\n        this.values[1] = a01 * b00 + a11 * b01 + a21 * b02\n        this.values[2] = a02 * b00 + a12 * b01 + a22 * b02\n        this.values[3] = a03 * b00 + a13 * b01 + a23 * b02\n\n        this.values[4] = a00 * b10 + a10 * b11 + a20 * b12\n        this.values[5] = a01 * b10 + a11 * b11 + a21 * b12\n        this.values[6] = a02 * b10 + a12 * b11 + a22 * b12\n        this.values[7] = a03 * b10 + a13 * b11 + a23 * b12\n\n        this.values[8] = a00 * b20 + a10 * b21 + a20 * b22\n        this.values[9] = a01 * b20 + a11 * b21 + a21 * b22\n        this.values[10] = a02 * b20 + a12 * b21 + a22 * b22\n        this.values[11] = a03 * b20 + a13 * b21 + a23 * b22\n\n        return this\n    }\n\n    static frustum(left: number, right: number, bottom: number, top: number, near: number, far: number): mat4 {\n        const rl = (right - left)\n        const tb = (top - bottom)\n        const fn = (far - near)\n\n        return new mat4([\n            (near * 2) / rl,\n            0,\n            0,\n            0,\n\n            0,\n            (near * 2) / tb,\n            0,\n            0,\n\n            (right + left) / rl,\n            (top + bottom) / tb,\n            -(far + near) / fn,\n            -1,\n\n            0,\n            0,\n            -(far * near * 2) / fn,\n            0,\n        ])\n    }\n\n    static perspective(fov: number, aspect: number, near: number, far: number): mat4 {\n        const top = near * Math.tan(fov * Math.PI / 360.0)\n        const right = top * aspect\n\n        return mat4.frustum(-right, right, -top, top, near, far)\n    }\n\n    static orthographic(left: number, right: number, bottom: number, top: number, near: number, far: number): mat4 {\n        const rl = (right - left)\n        const tb = (top - bottom)\n        const fn = (far - near)\n\n        return new mat4([\n            2 / rl,\n            0,\n            0,\n            0,\n\n            0,\n            2 / tb,\n            0,\n            0,\n\n            0,\n            0,\n            -2 / fn,\n            0,\n\n            -(left + right) / rl,\n            -(top + bottom) / tb,\n            -(far + near) / fn,\n            1,\n        ])\n    }\n\n    static lookAt(position: vec3, target: vec3, up: vec3 = vec3.up): mat4 {\n        if (position.equals(target)) {\n            return this.identity\n        }\n\n        const z = vec3.difference(position, target).normalize()\n\n        const x = vec3.cross(up, z).normalize()\n        const y = vec3.cross(z, x).normalize()\n\n        return new mat4([\n            x.x,\n            y.x,\n            z.x,\n            0,\n\n            x.y,\n            y.y,\n            z.y,\n            0,\n\n            x.z,\n            y.z,\n            z.z,\n            0,\n\n            -vec3.dot(x, position),\n            -vec3.dot(y, position),\n            -vec3.dot(z, position),\n            1,\n        ])\n    }\n\n    static product(m1: mat4, m2: mat4, result: mat4): mat4 {\n        const a00 = m1.at(0)\n        const a01 = m1.at(1)\n        const a02 = m1.at(2)\n        const a03 = m1.at(3)\n        const a10 = m1.at(4)\n        const a11 = m1.at(5)\n        const a12 = m1.at(6)\n        const a13 = m1.at(7)\n        const a20 = m1.at(8)\n        const a21 = m1.at(9)\n        const a22 = m1.at(10)\n        const a23 = m1.at(11)\n        const a30 = m1.at(12)\n        const a31 = m1.at(13)\n        const a32 = m1.at(14)\n        const a33 = m1.at(15)\n\n        const b00 = m2.at(0)\n        const b01 = m2.at(1)\n        const b02 = m2.at(2)\n        const b03 = m2.at(3)\n        const b10 = m2.at(4)\n        const b11 = m2.at(5)\n        const b12 = m2.at(6)\n        const b13 = m2.at(7)\n        const b20 = m2.at(8)\n        const b21 = m2.at(9)\n        const b22 = m2.at(10)\n        const b23 = m2.at(11)\n        const b30 = m2.at(12)\n        const b31 = m2.at(13)\n        const b32 = m2.at(14)\n        const b33 = m2.at(15)\n\n        if (result) {\n            result.init([\n                b00 * a00 + b01 * a10 + b02 * a20 + b03 * a30,\n                b00 * a01 + b01 * a11 + b02 * a21 + b03 * a31,\n                b00 * a02 + b01 * a12 + b02 * a22 + b03 * a32,\n                b00 * a03 + b01 * a13 + b02 * a23 + b03 * a33,\n\n                b10 * a00 + b11 * a10 + b12 * a20 + b13 * a30,\n                b10 * a01 + b11 * a11 + b12 * a21 + b13 * a31,\n                b10 * a02 + b11 * a12 + b12 * a22 + b13 * a32,\n                b10 * a03 + b11 * a13 + b12 * a23 + b13 * a33,\n\n                b20 * a00 + b21 * a10 + b22 * a20 + b23 * a30,\n                b20 * a01 + b21 * a11 + b22 * a21 + b23 * a31,\n                b20 * a02 + b21 * a12 + b22 * a22 + b23 * a32,\n                b20 * a03 + b21 * a13 + b22 * a23 + b23 * a33,\n\n                b30 * a00 + b31 * a10 + b32 * a20 + b33 * a30,\n                b30 * a01 + b31 * a11 + b32 * a21 + b33 * a31,\n                b30 * a02 + b31 * a12 + b32 * a22 + b33 * a32,\n                b30 * a03 + b31 * a13 + b32 * a23 + b33 * a33,\n            ])\n\n            return result\n        } else {\n            return new mat4([\n                b00 * a00 + b01 * a10 + b02 * a20 + b03 * a30,\n                b00 * a01 + b01 * a11 + b02 * a21 + b03 * a31,\n                b00 * a02 + b01 * a12 + b02 * a22 + b03 * a32,\n                b00 * a03 + b01 * a13 + b02 * a23 + b03 * a33,\n\n                b10 * a00 + b11 * a10 + b12 * a20 + b13 * a30,\n                b10 * a01 + b11 * a11 + b12 * a21 + b13 * a31,\n                b10 * a02 + b11 * a12 + b12 * a22 + b13 * a32,\n                b10 * a03 + b11 * a13 + b12 * a23 + b13 * a33,\n\n                b20 * a00 + b21 * a10 + b22 * a20 + b23 * a30,\n                b20 * a01 + b21 * a11 + b22 * a21 + b23 * a31,\n                b20 * a02 + b21 * a12 + b22 * a22 + b23 * a32,\n                b20 * a03 + b21 * a13 + b22 * a23 + b23 * a33,\n\n                b30 * a00 + b31 * a10 + b32 * a20 + b33 * a30,\n                b30 * a01 + b31 * a11 + b32 * a21 + b33 * a31,\n                b30 * a02 + b31 * a12 + b32 * a22 + b33 * a32,\n                b30 * a03 + b31 * a13 + b32 * a23 + b33 * a33,\n            ])\n        }\n    }\n\n}\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n\r\nconst LANGUAGE_DEFAULT = 'en';\r\n\r\nlet _isWindows = false;\r\nlet _isMacintosh = false;\r\nlet _isLinux = false;\r\nlet _isNative = false;\r\nlet _isWeb = false;\r\nlet _isIOS = false;\r\nlet _locale: string | undefined = undefined;\r\nlet _language: string = LANGUAGE_DEFAULT;\r\nlet _translationsConfigFile: string | undefined = undefined;\r\nlet _userAgent: string | undefined = undefined;\r\n\r\ninterface NLSConfig {\r\n\tlocale: string;\r\n\tavailableLanguages: { [key: string]: string; };\r\n\t_translationsConfigFile: string;\r\n}\r\n\r\nexport interface IProcessEnvironment {\r\n\t[key: string]: string;\r\n}\r\n\r\ninterface INodeProcess {\r\n\tplatform: string;\r\n\tenv: IProcessEnvironment;\r\n\tgetuid(): number;\r\n\tnextTick: Function;\r\n\tversions?: {\r\n\t\telectron?: string;\r\n\t};\r\n\ttype?: string;\r\n}\r\ndeclare const process: INodeProcess;\r\ndeclare const global: any;\r\n\r\ninterface INavigator {\r\n\tuserAgent: string;\r\n\tlanguage: string;\r\n\tmaxTouchPoints?: number;\r\n}\r\ndeclare const navigator: INavigator;\r\ndeclare const self: any;\r\n\r\nconst isElectronRenderer = (typeof process !== 'undefined' && typeof process.versions !== 'undefined' && typeof process.versions.electron !== 'undefined' && process.type === 'renderer');\r\n\r\n// OS detection\r\nif (typeof navigator === 'object' && !isElectronRenderer) {\r\n\t_userAgent = navigator.userAgent;\r\n\t_isWindows = _userAgent.indexOf('Windows') >= 0;\r\n\t_isMacintosh = _userAgent.indexOf('Macintosh') >= 0;\r\n\t_isIOS = _userAgent.indexOf('Macintosh') >= 0 && !!navigator.maxTouchPoints && navigator.maxTouchPoints > 0;\r\n\t_isLinux = _userAgent.indexOf('Linux') >= 0;\r\n\t_isWeb = true;\r\n\t_locale = navigator.language;\r\n\t_language = _locale;\r\n} else if (typeof process === 'object') {\r\n\t_isWindows = (process.platform === 'win32');\r\n\t_isMacintosh = (process.platform === 'darwin');\r\n\t_isLinux = (process.platform === 'linux');\r\n\t_locale = LANGUAGE_DEFAULT;\r\n\t_language = LANGUAGE_DEFAULT;\r\n\tconst rawNlsConfig = process.env['VSCODE_NLS_CONFIG'];\r\n\tif (rawNlsConfig) {\r\n\t\ttry {\r\n\t\t\tconst nlsConfig: NLSConfig = JSON.parse(rawNlsConfig);\r\n\t\t\tconst resolved = nlsConfig.availableLanguages['*'];\r\n\t\t\t_locale = nlsConfig.locale;\r\n\t\t\t// VSCode's default language is 'en'\r\n\t\t\t_language = resolved ? resolved : LANGUAGE_DEFAULT;\r\n\t\t\t_translationsConfigFile = nlsConfig._translationsConfigFile;\r\n\t\t} catch (e) {\r\n\t\t}\r\n\t}\r\n\t_isNative = true;\r\n}\r\n\r\nexport const enum Platform {\r\n\tWeb,\r\n\tMac,\r\n\tLinux,\r\n\tWindows\r\n}\r\nexport function PlatformToString(platform: Platform) {\r\n\tswitch (platform) {\r\n\t\tcase Platform.Web: return 'Web';\r\n\t\tcase Platform.Mac: return 'Mac';\r\n\t\tcase Platform.Linux: return 'Linux';\r\n\t\tcase Platform.Windows: return 'Windows';\r\n\t}\r\n}\r\n\r\nlet _platform: Platform = Platform.Web;\r\nif (_isMacintosh) {\r\n\t_platform = Platform.Mac;\r\n} else if (_isWindows) {\r\n\t_platform = Platform.Windows;\r\n} else if (_isLinux) {\r\n\t_platform = Platform.Linux;\r\n}\r\n\r\nexport const isWindows = _isWindows;\r\nexport const isMacintosh = _isMacintosh;\r\nexport const isLinux = _isLinux;\r\nexport const isNative = _isNative;\r\nexport const isWeb = _isWeb;\r\nexport const isIOS = _isIOS;\r\nexport const platform = _platform;\r\nexport const userAgent = _userAgent;\r\n\r\nexport function isRootUser(): boolean {\r\n\treturn _isNative && !_isWindows && (process.getuid() === 0);\r\n}\r\n\r\n/**\r\n * The language used for the user interface. The format of\r\n * the string is all lower case (e.g. zh-tw for Traditional\r\n * Chinese)\r\n */\r\nexport const language = _language;\r\n\r\nexport namespace Language {\r\n\r\n\texport function value(): string {\r\n\t\treturn language;\r\n\t}\r\n\r\n\texport function isDefaultVariant(): boolean {\r\n\t\tif (language.length === 2) {\r\n\t\t\treturn language === 'en';\r\n\t\t} else if (language.length >= 3) {\r\n\t\t\treturn language[0] === 'e' && language[1] === 'n' && language[2] === '-';\r\n\t\t} else {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t}\r\n\r\n\texport function isDefault(): boolean {\r\n\t\treturn language === 'en';\r\n\t}\r\n}\r\n\r\n/**\r\n * The OS locale or the locale specified by --locale. The format of\r\n * the string is all lower case (e.g. zh-tw for Traditional\r\n * Chinese). The UI is not necessarily shown in the provided locale.\r\n */\r\nexport const locale = _locale;\r\n\r\n/**\r\n * The translatios that are available through language packs.\r\n */\r\nexport const translationsConfigFile = _translationsConfigFile;\r\n\r\nconst _globals = (typeof self === 'object' ? self : typeof global === 'object' ? global : {} as any);\r\nexport const globals: any = _globals;\r\n\r\ninterface ISetImmediate {\r\n\t(callback: (...args: any[]) => void): void;\r\n}\r\n\r\nexport const setImmediate: ISetImmediate = (function defineSetImmediate() {\r\n\tif (globals.setImmediate) {\r\n\t\treturn globals.setImmediate.bind(globals);\r\n\t}\r\n\tif (typeof globals.postMessage === 'function' && !globals.importScripts) {\r\n\t\tinterface IQueueElement {\r\n\t\t\tid: number;\r\n\t\t\tcallback: () => void;\r\n\t\t}\r\n\t\tlet pending: IQueueElement[] = [];\r\n\t\tglobals.addEventListener('message', (e: MessageEvent) => {\r\n\t\t\tif (e.data && e.data.vscodeSetImmediateId) {\r\n\t\t\t\tfor (let i = 0, len = pending.length; i < len; i++) {\r\n\t\t\t\t\tconst candidate = pending[i];\r\n\t\t\t\t\tif (candidate.id === e.data.vscodeSetImmediateId) {\r\n\t\t\t\t\t\tpending.splice(i, 1);\r\n\t\t\t\t\t\tcandidate.callback();\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t\tlet lastId = 0;\r\n\t\treturn (callback: () => void) => {\r\n\t\t\tconst myId = ++lastId;\r\n\t\t\tpending.push({\r\n\t\t\t\tid: myId,\r\n\t\t\t\tcallback: callback\r\n\t\t\t});\r\n\t\t\tglobals.postMessage({ vscodeSetImmediateId: myId }, '*');\r\n\t\t};\r\n\t}\r\n\tif (typeof process !== 'undefined' && typeof process.nextTick === 'function') {\r\n\t\treturn process.nextTick.bind(process);\r\n\t}\r\n\tconst _promise = Promise.resolve();\r\n\treturn (callback: (...args: any[]) => void) => _promise.then(callback);\r\n})();\r\n\r\nexport const enum OperatingSystem {\r\n\tWindows = 1,\r\n\tMacintosh = 2,\r\n\tLinux = 3\r\n}\r\nexport const OS = (_isMacintosh ? OperatingSystem.Macintosh : (_isWindows ? OperatingSystem.Windows : OperatingSystem.Linux));\r\n","import mat3 from './mat3'\nimport mat4 from './mat4'\nimport vec3 from './vec3'\n\nimport { epsilon } from './constants'\n\nexport default class quat {\n\n    get x(): number {\n        return this.values[0]\n    }\n\n    get y(): number {\n        return this.values[1]\n    }\n\n    get z(): number {\n        return this.values[2]\n    }\n\n    get w(): number {\n        return this.values[3]\n    }\n\n    get xy(): [number, number] {\n        return [\n            this.values[0],\n            this.values[1],\n        ]\n    }\n\n    get xyz(): [number, number, number] {\n        return [\n            this.values[0],\n            this.values[1],\n            this.values[2],\n        ]\n    }\n\n    get xyzw(): [number, number, number, number] {\n        return [\n            this.values[0],\n            this.values[1],\n            this.values[2],\n            this.values[3],\n        ]\n    }\n\n    set x(value: number) {\n        this.values[0] = value\n    }\n\n    set y(value: number) {\n        this.values[1] = value\n    }\n\n    set z(value: number) {\n        this.values[2] = value\n    }\n\n    set w(value: number) {\n        this.values[3] = value\n    }\n\n    set xy(values: [number, number]) {\n        this.values[0] = values[0]\n        this.values[1] = values[1]\n    }\n\n    set xyz(values: [number, number, number]) {\n        this.values[0] = values[0]\n        this.values[1] = values[1]\n        this.values[2] = values[2]\n    }\n\n    set xyzw(values: [number, number, number, number]) {\n        this.values[0] = values[0]\n        this.values[1] = values[1]\n        this.values[2] = values[2]\n        this.values[3] = values[3]\n    }\n\n    constructor(values?: [number, number, number, number]) {\n        if (values !== undefined) {\n            this.xyzw = values\n        }\n    }\n\n    private values = new Float32Array(4)\n\n    static readonly identity = new quat().setIdentity()\n\n    at(index: number): number {\n        return this.values[index]\n    }\n\n    reset(): void {\n        for (let i = 0; i < 4; i++) {\n            this.values[i] = 0\n        }\n    }\n\n    copy(dest?: quat): quat {\n        if (!dest) { dest = new quat() }\n\n        for (let i = 0; i < 4; i++) {\n            dest.values[i] = this.values[i]\n        }\n\n        return dest\n    }\n\n    roll(): number {\n        const x = this.x\n        const y = this.y\n        const z = this.z\n        const w = this.w\n\n        return Math.atan2(2.0 * (x * y + w * z), w * w + x * x - y * y - z * z)\n    }\n\n    pitch(): number {\n        const x = this.x\n        const y = this.y\n        const z = this.z\n        const w = this.w\n\n        return Math.atan2(2.0 * (y * z + w * x), w * w - x * x - y * y + z * z)\n    }\n\n    yaw(): number {\n        return Math.asin(2.0 * (this.x * this.z - this.w * this.y))\n    }\n\n    equals(vector: quat, threshold = epsilon): boolean {\n        for (let i = 0; i < 4; i++) {\n            if (Math.abs(this.values[i] - vector.at(i)) > threshold) {\n                return false\n            }\n        }\n\n        return true\n    }\n\n    setIdentity(): quat {\n        this.x = 0\n        this.y = 0\n        this.z = 0\n        this.w = 1\n\n        return this\n    }\n\n    calculateW(): quat {\n        const x = this.x\n        const y = this.y\n        const z = this.z\n\n        this.w = -(Math.sqrt(Math.abs(1.0 - x * x - y * y - z * z)))\n\n        return this\n    }\n\n    inverse(): quat {\n        const dot = quat.dot(this, this)\n\n        if (!dot) {\n            this.xyzw = [0, 0, 0, 0]\n\n            return this\n        }\n\n        const invDot = dot ? 1.0 / dot : 0\n\n        this.x *= -invDot\n        this.y *= -invDot\n        this.z *= -invDot\n        this.w *= invDot\n\n        return this\n    }\n\n    conjugate(): quat {\n        this.values[0] *= -1\n        this.values[1] *= -1\n        this.values[2] *= -1\n\n        return this\n    }\n\n    length(): number {\n        const x = this.x\n        const y = this.y\n        const z = this.z\n        const w = this.w\n\n        return Math.sqrt(x * x + y * y + z * z + w * w)\n    }\n\n    normalize(dest?: quat): quat {\n        if (!dest) { dest = this }\n\n        const x = this.x\n        const y = this.y\n        const z = this.z\n        const w = this.w\n\n        let length = Math.sqrt(x * x + y * y + z * z + w * w)\n\n        if (!length) {\n            dest.x = 0\n            dest.y = 0\n            dest.z = 0\n            dest.w = 0\n\n            return dest\n        }\n\n        length = 1 / length\n\n        dest.x = x * length\n        dest.y = y * length\n        dest.z = z * length\n        dest.w = w * length\n\n        return dest\n    }\n\n    add(other: quat): quat {\n        for (let i = 0; i < 4; i++) {\n            this.values[i] += other.at(i)\n        }\n\n        return this\n    }\n\n    multiply(other: quat): quat {\n        const q1x = this.values[0]\n        const q1y = this.values[1]\n        const q1z = this.values[2]\n        const q1w = this.values[3]\n\n        const q2x = other.x\n        const q2y = other.y\n        const q2z = other.z\n        const q2w = other.w\n\n        this.x = q1x * q2w + q1w * q2x + q1y * q2z - q1z * q2y\n        this.y = q1y * q2w + q1w * q2y + q1z * q2x - q1x * q2z\n        this.z = q1z * q2w + q1w * q2z + q1x * q2y - q1y * q2x\n        this.w = q1w * q2w - q1x * q2x - q1y * q2y - q1z * q2z\n\n        return this\n    }\n\n    multiplyVec3(vector: vec3, dest?: vec3): vec3 {\n        if (!dest) { dest = new vec3() }\n\n        const x = vector.x\n        const y = vector.y\n        const z = vector.z\n\n        const qx = this.x\n        const qy = this.y\n        const qz = this.z\n        const qw = this.w\n\n        const ix = qw * x + qy * z - qz * y\n        const iy = qw * y + qz * x - qx * z\n        const iz = qw * z + qx * y - qy * x\n        const iw = -qx * x - qy * y - qz * z\n\n        dest.x = ix * qw + iw * -qx + iy * -qz - iz * -qy\n        dest.y = iy * qw + iw * -qy + iz * -qx - ix * -qz\n        dest.z = iz * qw + iw * -qz + ix * -qy - iy * -qx\n\n        return dest\n    }\n\n    toMat3(dest?: mat3): mat3 {\n        if (!dest) { dest = new mat3() }\n\n        const x = this.x\n        const y = this.y\n        const z = this.z\n        const w = this.w\n\n        const x2 = x + x\n        const y2 = y + y\n        const z2 = z + z\n\n        const xx = x * x2\n        const xy = x * y2\n        const xz = x * z2\n        const yy = y * y2\n        const yz = y * z2\n        const zz = z * z2\n        const wx = w * x2\n        const wy = w * y2\n        const wz = w * z2\n\n        dest.init([\n            1 - (yy + zz),\n            xy + wz,\n            xz - wy,\n\n            xy - wz,\n            1 - (xx + zz),\n            yz + wx,\n\n            xz + wy,\n            yz - wx,\n            1 - (xx + yy),\n        ])\n\n        return dest\n    }\n\n    toMat4(dest?: mat4): mat4 {\n        if (!dest) { dest = new mat4() }\n\n        const x = this.x\n        const y = this.y\n        const z = this.z\n        const w = this.w\n\n        const x2 = x + x\n        const y2 = y + y\n        const z2 = z + z\n\n        const xx = x * x2\n        const xy = x * y2\n        const xz = x * z2\n        const yy = y * y2\n        const yz = y * z2\n        const zz = z * z2\n        const wx = w * x2\n        const wy = w * y2\n        const wz = w * z2\n\n        dest.init([\n            1 - (yy + zz),\n            xy + wz,\n            xz - wy,\n            0,\n\n            xy - wz,\n            1 - (xx + zz),\n            yz + wx,\n            0,\n\n            xz + wy,\n            yz - wx,\n            1 - (xx + yy),\n            0,\n\n            0,\n            0,\n            0,\n            1,\n        ])\n\n        return dest\n    }\n\n    static dot(q1: quat, q2: quat): number {\n        return q1.x * q2.x + q1.y * q2.y + q1.z * q2.z + q1.w * q2.w\n    }\n\n    static sum(q1: quat, q2: quat, dest?: quat): quat {\n        if (!dest) { dest = new quat() }\n\n        dest.x = q1.x + q2.x\n        dest.y = q1.y + q2.y\n        dest.z = q1.z + q2.z\n        dest.w = q1.w + q2.w\n\n        return dest\n    }\n\n    static product(q1: quat, q2: quat, dest?: quat): quat {\n        if (!dest) { dest = new quat() }\n\n        const q1x = q1.x\n        const q1y = q1.y\n        const q1z = q1.z\n        const q1w = q1.w\n\n        const q2x = q2.x\n        const q2y = q2.y\n        const q2z = q2.z\n        const q2w = q2.w\n\n        dest.x = q1x * q2w + q1w * q2x + q1y * q2z - q1z * q2y\n        dest.y = q1y * q2w + q1w * q2y + q1z * q2x - q1x * q2z\n        dest.z = q1z * q2w + q1w * q2z + q1x * q2y - q1y * q2x\n        dest.w = q1w * q2w - q1x * q2x - q1y * q2y - q1z * q2z\n\n        return dest\n    }\n\n    static cross(q1: quat, q2: quat, dest?: quat): quat {\n        if (!dest) { dest = new quat() }\n\n        const q1x = q1.x\n        const q1y = q1.y\n        const q1z = q1.z\n        const q1w = q1.w\n\n        const q2x = q2.x\n        const q2y = q2.y\n        const q2z = q2.z\n        const q2w = q2.w\n\n        dest.x = q1w * q2z + q1z * q2w + q1x * q2y - q1y * q2x\n        dest.y = q1w * q2w - q1x * q2x - q1y * q2y - q1z * q2z\n        dest.z = q1w * q2x + q1x * q2w + q1y * q2z - q1z * q2y\n        dest.w = q1w * q2y + q1y * q2w + q1z * q2x - q1x * q2z\n\n        return dest\n    }\n\n    static shortMix(q1: quat, q2: quat, time: number, dest?: quat): quat {\n        if (!dest) { dest = new quat() }\n\n        if (time <= 0.0) {\n            dest.xyzw = q1.xyzw\n\n            return dest\n        } else if (time >= 1.0) {\n            dest.xyzw = q2.xyzw\n\n            return dest\n        }\n\n        let cos = quat.dot(q1, q2)\n        const q2a = q2.copy()\n\n        if (cos < 0.0) {\n            q2a.inverse()\n            cos = -cos\n        }\n\n        let k0: number\n        let k1: number\n\n        if (cos > 0.9999) {\n            k0 = 1 - time\n            k1 = 0 + time\n        } else {\n            const sin: number = Math.sqrt(1 - cos * cos)\n            const angle: number = Math.atan2(sin, cos)\n\n            const oneOverSin: number = 1 / sin\n\n            k0 = Math.sin((1 - time) * angle) * oneOverSin\n            k1 = Math.sin((0 + time) * angle) * oneOverSin\n        }\n\n        dest.x = k0 * q1.x + k1 * q2a.x\n        dest.y = k0 * q1.y + k1 * q2a.y\n        dest.z = k0 * q1.z + k1 * q2a.z\n        dest.w = k0 * q1.w + k1 * q2a.w\n\n        return dest\n    }\n\n    static mix(q1: quat, q2: quat, time: number, dest?: quat): quat {\n        if (!dest) { dest = new quat() }\n\n        const cosHalfTheta = q1.x * q2.x + q1.y * q2.y + q1.z * q2.z + q1.w * q2.w\n\n        if (Math.abs(cosHalfTheta) >= 1.0) {\n            dest.xyzw = q1.xyzw\n\n            return dest\n        }\n\n        const halfTheta = Math.acos(cosHalfTheta)\n        const sinHalfTheta = Math.sqrt(1.0 - cosHalfTheta * cosHalfTheta)\n\n        if (Math.abs(sinHalfTheta) < 0.001) {\n            dest.x = q1.x * 0.5 + q2.x * 0.5\n            dest.y = q1.y * 0.5 + q2.y * 0.5\n            dest.z = q1.z * 0.5 + q2.z * 0.5\n            dest.w = q1.w * 0.5 + q2.w * 0.5\n\n            return dest\n        }\n\n        const ratioA = Math.sin((1 - time) * halfTheta) / sinHalfTheta\n        const ratioB = Math.sin(time * halfTheta) / sinHalfTheta\n\n        dest.x = q1.x * ratioA + q2.x * ratioB\n        dest.y = q1.y * ratioA + q2.y * ratioB\n        dest.z = q1.z * ratioA + q2.z * ratioB\n        dest.w = q1.w * ratioA + q2.w * ratioB\n\n        return dest\n    }\n\n    static fromAxisAngle(axis: vec3, angle: number, dest?: quat): quat {\n        if (!dest) { dest = new quat() }\n\n        angle *= 0.5\n        const sin = Math.sin(angle)\n\n        dest.x = axis.x * sin\n        dest.y = axis.y * sin\n        dest.z = axis.z * sin\n        dest.w = Math.cos(angle)\n\n        return dest\n    }\n\n}\n","import mat2 from './mat2'\nimport mat3 from './mat3'\nimport vec3 from './vec3'\n\nimport { epsilon } from './constants'\n\nexport default class vec2 {\n\n    get x(): number {\n        return this.values[0]\n    }\n\n    get y(): number {\n        return this.values[1]\n    }\n\n    get xy(): [number, number] {\n        return [\n            this.values[0],\n            this.values[1],\n        ]\n    }\n\n    set x(value: number) {\n        this.values[0] = value\n    }\n\n    set y(value: number) {\n        this.values[1] = value\n    }\n\n    set xy(values: [number, number]) {\n        this.values[0] = values[0]\n        this.values[1] = values[1]\n    }\n\n    constructor(values?: [number, number]) {\n        if (values !== undefined) {\n            this.xy = values\n        }\n    }\n\n    private values = new Float32Array(2)\n\n    static readonly zero = new vec2([0, 0])\n    static readonly one = new vec2([1, 1])\n\n    at(index: number): number {\n        return this.values[index]\n    }\n\n    reset(): void {\n        this.x = 0\n        this.y = 0\n    }\n\n    copy(dest?: vec2): vec2 {\n        if (!dest) { dest = new vec2() }\n\n        dest.x = this.x\n        dest.y = this.y\n\n        return dest\n    }\n\n    negate(dest?: vec2): vec2 {\n        if (!dest) { dest = this }\n\n        dest.x = -this.x\n        dest.y = -this.y\n\n        return dest\n    }\n\n    equals(vector: vec2, threshold = epsilon): boolean {\n        if (Math.abs(this.x - vector.x) > threshold) {\n            return false\n        }\n\n        if (Math.abs(this.y - vector.y) > threshold) {\n            return false\n        }\n\n        return true\n    }\n\n    length(): number {\n        return Math.sqrt(this.squaredLength())\n    }\n\n    squaredLength(): number {\n        const x = this.x\n        const y = this.y\n\n        return (x * x + y * y)\n    }\n\n    add(vector: vec2): vec2 {\n        this.x += vector.x\n        this.y += vector.y\n\n        return this\n    }\n\n    subtract(vector: vec2): vec2 {\n        this.x -= vector.x\n        this.y -= vector.y\n\n        return this\n    }\n\n    multiply(vector: vec2): vec2 {\n        this.x *= vector.x\n        this.y *= vector.y\n\n        return this\n    }\n\n    divide(vector: vec2): vec2 {\n        this.x /= vector.x\n        this.y /= vector.y\n\n        return this\n    }\n\n    scale(value: number, dest?: vec2): vec2 {\n        if (!dest) { dest = this }\n\n        dest.x = this.x * value\n        dest.y = this.y * value\n\n        return dest\n    }\n\n    normalize(dest?: vec2): vec2 {\n        if (!dest) { dest = this }\n\n        let length = this.length()\n\n        if (length === 1) {\n            return this\n        }\n\n        if (length === 0) {\n            dest.x = 0\n            dest.y = 0\n\n            return dest\n        }\n\n        length = 1.0 / length\n\n        dest.x *= length\n        dest.y *= length\n\n        return dest\n    }\n\n    multiplyMat2(matrix: mat2, dest?: vec2): vec2 {\n        if (!dest) { dest = this }\n\n        return matrix.multiplyVec2(this, dest)\n    }\n\n    multiplyMat3(matrix: mat3, dest?: vec2): vec2 {\n        if (!dest) { dest = this }\n\n        return matrix.multiplyVec2(this, dest)\n    }\n\n    static cross(vector: vec2, vector2: vec2, dest?: vec3): vec3 {\n        if (!dest) { dest = new vec3() }\n\n        const x = vector.x\n        const y = vector.y\n\n        const x2 = vector2.x\n        const y2 = vector2.y\n\n        const z = x * y2 - y * x2\n\n        dest.x = 0\n        dest.y = 0\n        dest.z = z\n\n        return dest\n    }\n\n    static dot(vector: vec2, vector2: vec2): number {\n        return (vector.x * vector2.x + vector.y * vector2.y)\n    }\n\n    static distance(vector: vec2, vector2: vec2): number {\n        return Math.sqrt(this.squaredDistance(vector, vector2))\n    }\n\n    static squaredDistance(vector: vec2, vector2: vec2): number {\n        const x = vector2.x - vector.x\n        const y = vector2.y - vector.y\n\n        return (x * x + y * y)\n    }\n\n    static direction(vector: vec2, vector2: vec2, dest?: vec2): vec2 {\n        if (!dest) { dest = new vec2() }\n\n        const x = vector.x - vector2.x\n        const y = vector.y - vector2.y\n\n        let length = Math.sqrt(x * x + y * y)\n\n        if (length === 0) {\n            dest.x = 0\n            dest.y = 0\n\n            return dest\n        }\n\n        length = 1 / length\n\n        dest.x = x * length\n        dest.y = y * length\n\n        return dest\n    }\n\n    static mix(vector: vec2, vector2: vec2, time: number, dest?: vec2): vec2 {\n        if (!dest) { dest = new vec2() }\n\n        const x = vector.x\n        const y = vector.y\n\n        const x2 = vector2.x\n        const y2 = vector2.y\n\n        dest.x = x + time * (x2 - x)\n        dest.y = y + time * (y2 - y)\n\n        return dest\n    }\n\n    static sum(vector: vec2, vector2: vec2, dest?: vec2): vec2 {\n        if (!dest) { dest = new vec2() }\n\n        dest.x = vector.x + vector2.x\n        dest.y = vector.y + vector2.y\n\n        return dest\n    }\n\n    static difference(vector: vec2, vector2: vec2, dest?: vec2): vec2 {\n        if (!dest) { dest = new vec2() }\n\n        dest.x = vector.x - vector2.x\n        dest.y = vector.y - vector2.y\n\n        return dest\n    }\n\n    static product(vector: vec2, vector2: vec2, dest?: vec2): vec2 {\n        if (!dest) { dest = new vec2() }\n\n        dest.x = vector.x * vector2.x\n        dest.y = vector.y * vector2.y\n\n        return dest\n    }\n\n    static quotient(vector: vec2, vector2: vec2, dest?: vec2): vec2 {\n        if (!dest) { dest = new vec2() }\n\n        dest.x = vector.x / vector2.x\n        dest.y = vector.y / vector2.y\n\n        return dest\n    }\n\n}\n","import mat3 from './mat3'\nimport quat from './quat'\n\nimport { epsilon } from './constants'\n\nexport default class vec3 {\n\n    get x(): number {\n        return this.values[0]\n    }\n\n    get y(): number {\n        return this.values[1]\n    }\n\n    get z(): number {\n        return this.values[2]\n    }\n\n    get xy(): [number, number] {\n        return [\n            this.values[0],\n            this.values[1],\n        ]\n    }\n\n    get xyz(): [number, number, number] {\n        return [\n            this.values[0],\n            this.values[1],\n            this.values[2],\n        ]\n    }\n\n    set x(value: number) {\n        this.values[0] = value\n    }\n\n    set y(value: number) {\n        this.values[1] = value\n    }\n\n    set z(value: number) {\n        this.values[2] = value\n    }\n\n    set xy(values: [number, number]) {\n        this.values[0] = values[0]\n        this.values[1] = values[1]\n    }\n\n    set xyz(values: [number, number, number]) {\n        this.values[0] = values[0]\n        this.values[1] = values[1]\n        this.values[2] = values[2]\n    }\n\n    constructor(values?: [number, number, number]) {\n        if (values !== undefined) {\n            this.xyz = values\n        }\n    }\n\n    private values = new Float32Array(3)\n\n    static readonly zero = new vec3([0, 0, 0])\n    static readonly one = new vec3([1, 1, 1])\n\n    static readonly up = new vec3([0, 1, 0])\n    static readonly right = new vec3([1, 0, 0])\n    static readonly forward = new vec3([0, 0, 1])\n\n    at(index: number): number {\n        return this.values[index]\n    }\n\n    reset(): void {\n        this.x = 0\n        this.y = 0\n        this.z = 0\n    }\n\n    copy(dest?: vec3): vec3 {\n        if (!dest) { dest = new vec3() }\n\n        dest.x = this.x\n        dest.y = this.y\n        dest.z = this.z\n\n        return dest\n    }\n\n    negate(dest?: vec3): vec3 {\n        if (!dest) { dest = this }\n\n        dest.x = -this.x\n        dest.y = -this.y\n        dest.z = -this.z\n\n        return dest\n    }\n\n    equals(vector: vec3, threshold = epsilon): boolean {\n        if (Math.abs(this.x - vector.x) > threshold) {\n            return false\n        }\n\n        if (Math.abs(this.y - vector.y) > threshold) {\n            return false\n        }\n\n        if (Math.abs(this.z - vector.z) > threshold) {\n            return false\n        }\n\n        return true\n    }\n\n    length(): number {\n        return Math.sqrt(this.squaredLength())\n    }\n\n    squaredLength(): number {\n        const x = this.x\n        const y = this.y\n        const z = this.z\n\n        return (x * x + y * y + z * z)\n    }\n\n    add(vector: vec3): vec3 {\n        this.x += vector.x\n        this.y += vector.y\n        this.z += vector.z\n\n        return this\n    }\n\n    subtract(vector: vec3): vec3 {\n        this.x -= vector.x\n        this.y -= vector.y\n        this.z -= vector.z\n\n        return this\n    }\n\n    multiply(vector: vec3): vec3 {\n        this.x *= vector.x\n        this.y *= vector.y\n        this.z *= vector.z\n\n        return this\n    }\n\n    divide(vector: vec3): vec3 {\n        this.x /= vector.x\n        this.y /= vector.y\n        this.z /= vector.z\n\n        return this\n    }\n\n    scale(value: number, dest?: vec3): vec3 {\n        if (!dest) { dest = this }\n\n        dest.x *= value\n        dest.y *= value\n        dest.z *= value\n\n        return dest\n    }\n\n    normalize(dest?: vec3): vec3 {\n        if (!dest) { dest = this }\n\n        let length = this.length()\n\n        if (length === 1) {\n            return this\n        }\n\n        if (length === 0) {\n            dest.x = 0\n            dest.y = 0\n            dest.z = 0\n\n            return dest\n        }\n\n        length = 1.0 / length\n\n        dest.x *= length\n        dest.y *= length\n        dest.z *= length\n\n        return dest\n    }\n\n    multiplyByMat3(matrix: mat3, dest?: vec3): vec3 {\n        if (!dest) { dest = this }\n\n        return matrix.multiplyVec3(this, dest)\n    }\n\n    multiplyByQuat(quaternion: quat, dest?: vec3): vec3 {\n        if (!dest) { dest = this }\n\n        return quaternion.multiplyVec3(this, dest)\n    }\n\n    toQuat(dest?: quat): quat {\n        if (!dest) { dest = new quat() }\n\n        const c = new vec3()\n        const s = new vec3()\n\n        c.x = Math.cos(this.x * 0.5)\n        s.x = Math.sin(this.x * 0.5)\n\n        c.y = Math.cos(this.y * 0.5)\n        s.y = Math.sin(this.y * 0.5)\n\n        c.z = Math.cos(this.z * 0.5)\n        s.z = Math.sin(this.z * 0.5)\n\n        dest.x = s.x * c.y * c.z - c.x * s.y * s.z\n        dest.y = c.x * s.y * c.z + s.x * c.y * s.z\n        dest.z = c.x * c.y * s.z - s.x * s.y * c.z\n        dest.w = c.x * c.y * c.z + s.x * s.y * s.z\n\n        return dest\n    }\n\n    static cross(vector: vec3, vector2: vec3, dest?: vec3): vec3 {\n        if (!dest) { dest = new vec3() }\n\n        const x = vector.x\n        const y = vector.y\n        const z = vector.z\n\n        const x2 = vector2.x\n        const y2 = vector2.y\n        const z2 = vector2.z\n\n        dest.x = y * z2 - z * y2\n        dest.y = z * x2 - x * z2\n        dest.z = x * y2 - y * x2\n\n        return dest\n    }\n\n    static dot(vector: vec3, vector2: vec3): number {\n        const x = vector.x\n        const y = vector.y\n        const z = vector.z\n\n        const x2 = vector2.x\n        const y2 = vector2.y\n        const z2 = vector2.z\n\n        return (x * x2 + y * y2 + z * z2)\n    }\n\n    static distance(vector: vec3, vector2: vec3): number {\n        const x = vector2.x - vector.x\n        const y = vector2.y - vector.y\n        const z = vector2.z - vector.z\n\n        return Math.sqrt(this.squaredDistance(vector, vector2))\n    }\n\n    static squaredDistance(vector: vec3, vector2: vec3): number {\n        const x = vector2.x - vector.x\n        const y = vector2.y - vector.y\n        const z = vector2.z - vector.z\n\n        return (x * x + y * y + z * z)\n    }\n\n    static direction(vector: vec3, vector2: vec3, dest?: vec3): vec3 {\n        if (!dest) { dest = new vec3() }\n\n        const x = vector.x - vector2.x\n        const y = vector.y - vector2.y\n        const z = vector.z - vector2.z\n\n        let length = Math.sqrt(x * x + y * y + z * z)\n\n        if (length === 0) {\n            dest.x = 0\n            dest.y = 0\n            dest.z = 0\n\n            return dest\n        }\n\n        length = 1 / length\n\n        dest.x = x * length\n        dest.y = y * length\n        dest.z = z * length\n\n        return dest\n    }\n\n    static mix(vector: vec3, vector2: vec3, time: number, dest?: vec3): vec3 {\n        if (!dest) { dest = new vec3() }\n\n        dest.x = vector.x + time * (vector2.x - vector.x)\n        dest.y = vector.y + time * (vector2.y - vector.y)\n        dest.z = vector.z + time * (vector2.z - vector.z)\n\n        return dest\n    }\n\n    static sum(vector: vec3, vector2: vec3, dest?: vec3): vec3 {\n        if (!dest) { dest = new vec3() }\n\n        dest.x = vector.x + vector2.x\n        dest.y = vector.y + vector2.y\n        dest.z = vector.z + vector2.z\n\n        return dest\n    }\n\n    static difference(vector: vec3, vector2: vec3, dest?: vec3): vec3 {\n        if (!dest) { dest = new vec3() }\n\n        dest.x = vector.x - vector2.x\n        dest.y = vector.y - vector2.y\n        dest.z = vector.z - vector2.z\n\n        return dest\n    }\n\n    static product(vector: vec3, vector2: vec3, dest?: vec3): vec3 {\n        if (!dest) { dest = new vec3() }\n\n        dest.x = vector.x * vector2.x\n        dest.y = vector.y * vector2.y\n        dest.z = vector.z * vector2.z\n\n        return dest\n    }\n\n    static quotient(vector: vec3, vector2: vec3, dest?: vec3): vec3 {\n        if (!dest) { dest = new vec3() }\n\n        dest.x = vector.x / vector2.x\n        dest.y = vector.y / vector2.y\n        dest.z = vector.z / vector2.z\n\n        return dest\n    }\n}\n","import mat4 from './mat4'\n\nimport { epsilon } from './constants'\n\nexport default class vec4 {\n\n    get x(): number {\n        return this.values[0]\n    }\n\n    get y(): number {\n        return this.values[1]\n    }\n\n    get z(): number {\n        return this.values[2]\n    }\n\n    get w(): number {\n        return this.values[3]\n    }\n\n    get xy(): [number, number] {\n        return [\n            this.values[0],\n            this.values[1],\n        ]\n    }\n\n    get xyz(): [number, number, number] {\n        return [\n            this.values[0],\n            this.values[1],\n            this.values[2],\n        ]\n    }\n\n    get xyzw(): [number, number, number, number] {\n        return [\n            this.values[0],\n            this.values[1],\n            this.values[2],\n            this.values[3],\n        ]\n    }\n\n    set x(value: number) {\n        this.values[0] = value\n    }\n\n    set y(value: number) {\n        this.values[1] = value\n    }\n\n    set z(value: number) {\n        this.values[2] = value\n    }\n\n    set w(value: number) {\n        this.values[3] = value\n    }\n\n    set xy(values: [number, number]) {\n        this.values[0] = values[0]\n        this.values[1] = values[1]\n    }\n\n    set xyz(values: [number, number, number]) {\n        this.values[0] = values[0]\n        this.values[1] = values[1]\n        this.values[2] = values[2]\n    }\n\n    set xyzw(values: [number, number, number, number]) {\n        this.values[0] = values[0]\n        this.values[1] = values[1]\n        this.values[2] = values[2]\n        this.values[3] = values[3]\n    }\n\n    get r(): number {\n        return this.values[0]\n    }\n\n    get g(): number {\n        return this.values[1]\n    }\n\n    get b(): number {\n        return this.values[2]\n    }\n\n    get a(): number {\n        return this.values[3]\n    }\n\n    get rg(): [number, number] {\n        return [\n            this.values[0],\n            this.values[1],\n        ]\n    }\n\n    get rgb(): [number, number, number] {\n        return [\n            this.values[0],\n            this.values[1],\n            this.values[2],\n        ]\n    }\n\n    get rgba(): [number, number, number, number] {\n        return [\n            this.values[0],\n            this.values[1],\n            this.values[2],\n            this.values[3],\n        ]\n    }\n\n    set r(value: number) {\n        this.values[0] = value\n    }\n\n    set g(value: number) {\n        this.values[1] = value\n    }\n\n    set b(value: number) {\n        this.values[2] = value\n    }\n\n    set a(value: number) {\n        this.values[3] = value\n    }\n\n    set rg(values: [number, number]) {\n        this.values[0] = values[0]\n        this.values[1] = values[1]\n    }\n\n    set rgb(values: [number, number, number]) {\n        this.values[0] = values[0]\n        this.values[1] = values[1]\n        this.values[2] = values[2]\n    }\n\n    set rgba(values: [number, number, number, number]) {\n        this.values[0] = values[0]\n        this.values[1] = values[1]\n        this.values[2] = values[2]\n        this.values[3] = values[3]\n    }\n\n    constructor(values?: [number, number, number, number]) {\n        if (values !== undefined) {\n            this.xyzw = values\n        }\n    }\n\n    private values = new Float32Array(4)\n\n    static readonly zero = new vec4([0, 0, 0, 1])\n    static readonly one = new vec4([1, 1, 1, 1])\n\n    at(index: number): number {\n        return this.values[index]\n    }\n\n    reset(): void {\n        this.x = 0\n        this.y = 0\n        this.z = 0\n        this.w = 0\n    }\n\n    copy(dest?: vec4): vec4 {\n        if (!dest) { dest = new vec4() }\n\n        dest.x = this.x\n        dest.y = this.y\n        dest.z = this.z\n        dest.w = this.w\n\n        return dest\n    }\n\n    negate(dest?: vec4): vec4 {\n        if (!dest) { dest = this }\n\n        dest.x = -this.x\n        dest.y = -this.y\n        dest.z = -this.z\n        dest.w = -this.w\n\n        return dest\n    }\n\n    equals(vector: vec4, threshold = epsilon): boolean {\n        if (Math.abs(this.x - vector.x) > threshold) {\n            return false\n        }\n\n        if (Math.abs(this.y - vector.y) > threshold) {\n            return false\n        }\n\n        if (Math.abs(this.z - vector.z) > threshold) {\n            return false\n        }\n\n        if (Math.abs(this.w - vector.w) > threshold) {\n            return false\n        }\n\n        return true\n    }\n\n    length(): number {\n        return Math.sqrt(this.squaredLength())\n    }\n\n    squaredLength(): number {\n        const x = this.x\n        const y = this.y\n        const z = this.z\n        const w = this.w\n\n        return (x * x + y * y + z * z + w * w)\n    }\n\n    add(vector: vec4): vec4 {\n        this.x += vector.x\n        this.y += vector.y\n        this.z += vector.z\n        this.w += vector.w\n\n        return this\n    }\n\n    subtract(vector: vec4): vec4 {\n        this.x -= vector.x\n        this.y -= vector.y\n        this.z -= vector.z\n        this.w -= vector.w\n\n        return this\n    }\n\n    multiply(vector: vec4): vec4 {\n        this.x *= vector.x\n        this.y *= vector.y\n        this.z *= vector.z\n        this.w *= vector.w\n\n        return this\n    }\n\n    divide(vector: vec4): vec4 {\n        this.x /= vector.x\n        this.y /= vector.y\n        this.z /= vector.z\n        this.w /= vector.w\n\n        return this\n    }\n\n    scale(value: number, dest?: vec4): vec4 {\n        if (!dest) { dest = this }\n\n        dest.x *= value\n        dest.y *= value\n        dest.z *= value\n        dest.w *= value\n\n        return dest\n    }\n\n    normalize(dest?: vec4): vec4 {\n        if (!dest) { dest = this }\n\n        let length = this.length()\n\n        if (length === 1) {\n            return this\n        }\n\n        if (length === 0) {\n            dest.x *= 0\n            dest.y *= 0\n            dest.z *= 0\n            dest.w *= 0\n\n            return dest\n        }\n\n        length = 1.0 / length\n\n        dest.x *= length\n        dest.y *= length\n        dest.z *= length\n        dest.w *= length\n\n        return dest\n    }\n\n    multiplyMat4(matrix: mat4, dest?: vec4): vec4 {\n        if (!dest) { dest = this }\n\n        return matrix.multiplyVec4(this, dest)\n    }\n\n    static mix(vector: vec4, vector2: vec4, time: number, dest?: vec4): vec4 {\n        if (!dest) { dest = new vec4() }\n\n        dest.x = vector.x + time * (vector2.x - vector.x)\n        dest.y = vector.y + time * (vector2.y - vector.y)\n        dest.z = vector.z + time * (vector2.z - vector.z)\n        dest.w = vector.w + time * (vector2.w - vector.w)\n\n        return dest\n    }\n\n    static sum(vector: vec4, vector2: vec4, dest?: vec4): vec4 {\n        if (!dest) { dest = new vec4() }\n\n        dest.x = vector.x + vector2.x\n        dest.y = vector.y + vector2.y\n        dest.z = vector.z + vector2.z\n        dest.w = vector.w + vector2.w\n\n        return dest\n    }\n\n    static difference(vector: vec4, vector2: vec4, dest?: vec4): vec4 {\n        if (!dest) { dest = new vec4() }\n\n        dest.x = vector.x - vector2.x\n        dest.y = vector.y - vector2.y\n        dest.z = vector.z - vector2.z\n        dest.w = vector.w - vector2.w\n\n        return dest\n    }\n\n    static product(vector: vec4, vector2: vec4, dest?: vec4): vec4 {\n        if (!dest) { dest = new vec4() }\n\n        dest.x = vector.x * vector2.x\n        dest.y = vector.y * vector2.y\n        dest.z = vector.z * vector2.z\n        dest.w = vector.w * vector2.w\n\n        return dest\n    }\n\n    static quotient(vector: vec4, vector2: vec4, dest?: vec4): vec4 {\n        if (!dest) { dest = new vec4() }\n\n        dest.x = vector.x / vector2.x\n        dest.y = vector.y / vector2.y\n        dest.z = vector.z / vector2.z\n        dest.w = vector.w / vector2.w\n\n        return dest\n    }\n}\n","// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n  production: false\n};\n\n/*\n * For easier debugging in development mode, you can import the following file\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\n *\n * This import should be commented out in production mode because it will have a negative impact\n * on performance if an error is thrown.\n */\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\nimport { ImageFilter } from 'src/app/util/image-filter';\n\nImageFilter.init();\n\nwindow.addEventListener('contextmenu', e => e.preventDefault());\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.error(err));"],"sourceRoot":"webpack:///"}